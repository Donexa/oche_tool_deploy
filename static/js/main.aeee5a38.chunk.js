(this.webpackJsonpred_ticket=this.webpackJsonpred_ticket||[]).push([[0],{149:function(e,t,n){},150:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),i=n(58),s=n.n(i),o=(n(67),n(23)),l=n(4),r=n(9),u=n(35),d=Object(u.b)({name:"default",initialState:{name:"",version:0,languages:[],registers:[],provinces:[],months:[],genders:[],maritalStatus:[],dictionary:{},copyright:"Donexa \xa9 ".concat((new Date).getFullYear())},reducers:{continueSession:function(e,t){var n=t.payload,a=n.name,c=n.version,i=n.languages,s=n.registers,o=n.provinces,l=n.dictionary,r=n.months,u=n.genders,d=n.maritalStatus;e.name=a,e.version=c,e.languages=i,e.registers=s,e.provinces=o,e.dictionary=l,e.months=r,e.genders=u,e.maritalStatus=d},copyWith:function(e,t){var n,a,c,i,s,o,l,r,u;console.log(t.payload),e.name=null!==(n=t.payload.name)&&void 0!==n?n:e.name,e.version=null!==(a=t.payload.version)&&void 0!==a?a:e.version,e.languages=null!==(c=t.payload.languages)&&void 0!==c?c:e.languages,e.registers=null!==(i=t.payload.registers)&&void 0!==i?i:e.registers,e.provinces=null!==(s=t.payload.provinces)&&void 0!==s?s:e.provinces,e.months=null!==(o=t.payload.months)&&void 0!==o?o:e.months,e.genders=null!==(l=t.payload.genders)&&void 0!==l?l:e.genders,e.maritalStatus=null!==(r=t.payload.maritalStatus)&&void 0!==r?r:e.maritalStatus,e.dictionary=null!==(u=t.payload.dictionary)&&void 0!==u?u:e.dictionary}}}),j=d.actions,b=j.copyWith,p=j.continueSession,O=d.reducer,m=Object(u.a)({reducer:{default:O}}),h=(n(71),n.p+"static/media/oche.e0f9f9ef.png"),v=n(0);function f(){var e=Object(l.m)(),t=Object(r.c)();return Object(v.jsxs)("div",{className:"oche-main",children:[Object(v.jsxs)("div",{className:"oche-main-left",children:[Object(v.jsx)("h1",{className:"large-title",children:"OpenCarenet Community Health Edition \u2699\ufe0f"}),Object(v.jsx)("div",{className:"divider"}),Object(v.jsxs)("div",{className:"oche-main-actions",children:[Object(v.jsx)(o.b,{to:"/session",children:Object(v.jsx)("button",{children:"START NEW SESSION"})}),Object(v.jsx)("input",{id:"continue-session",type:"file",style:{display:"none"},onChange:function(n){var a=n.target.files[0];if("application/json"===a.type){var c=new window.FileReader;c.onload=function(n){console.log(JSON.parse(c.result)),t(p(JSON.parse(c.result))),e("/session")},c.readAsText(a)}}}),Object(v.jsx)("label",{className:"button-label",htmlFor:"continue-session",children:"CONTINUE SESSION"})]})]}),Object(v.jsx)("div",{className:"oche-main-right",children:Object(v.jsx)("img",{src:h,alt:"donexa logo"})})]})}var g=n(7),x=n(2),N=n(11),y=n(12),C=n(14),k=n(15),S=n(6),w=n(10),L=function(e){var t=e.currentList,n=void 0===t?[]:t;return n.length<1?{id:1}:{id:n[n.length-1].id+1}},P=function(){var e=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.name,"Name"),n=new FormData,console.log(t),n.append("key","pv-d/".concat(t.name)),n.append("acl","public-read"),n.append("file",t),e.next=8,fetch("https://s3.us-east-1.amazonaws.com/dpictures",{body:n,method:"POST"}).then(function(){var e=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,!t.ok){e.next=7;break}return e.abrupt("return",Object(x.a)({headers:t.headers},n));case 7:return console.log(n),e.abrupt("return",{error:n});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e),{error:e}}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=(n(73),function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(){return Object(N.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){var e=this.props,t=e.child,n=e.onClose;return Object(v.jsx)("div",{className:"modal-curtain",children:Object(v.jsxs)("div",{className:"oche-modal",children:[Object(v.jsx)("div",{className:"modal-header",children:Object(v.jsx)("i",{className:"fa fa-xmark",onClick:function(e){e.stopPropagation(),n()}})}),Object(v.jsx)("div",{className:"divider"}),t]})})}}]),n}(a.Component)),M=n(8),F=n(5),I=(n(74),n(60)),A=n.n(I),_=(n(148),function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(){var e;Object(N.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={formValues:{}},e.handleSubmit=function(t){var n,a=e.props,c=a.registers,i=a.dispatch,s=e.state.formValues,o=!(null===s||void 0===s||!s.id);t.preventDefault(),console.log(e.state.formValues),i(b(o?{registers:Object(F.a)(c).map((function(e){return e.id!==s.id?e:Object(x.a)(Object(x.a)({},e),s)}))}:{registers:[].concat(Object(F.a)(c),[Object(x.a)(Object(x.a)(Object(x.a)({},L({currentList:c})),e.state.formValues),{},{inputs:[]})])})),null===(n=window.document.querySelector("#reg-form"))||void 0===n||n.reset()},e.handleChange=function(t){t.preventDefault();var n=t.target,a=n.name,c=n.value;e.setState({formValues:Object(x.a)(Object(x.a)({},e.state.formValues),{},Object(g.a)({},a,c))})},e._inputs=[{name:"Name",multiLang:!0,type:"name",ipName:"name"},{name:"Description",multiLang:!0,type:"textarea",ipName:"description"},{name:"Code",multiLang:!1,type:"name",ipName:"code"},{name:"Does it require a patient ?",multiLang:!1,type:"select",options:[{name:"Yes",value:!0},{name:"No",value:!1}],ipName:"isLinked"},{name:"Patient Age Min",multiLang:!1,type:"number",ipName:"min-age"},{name:"Patient Age Max",multiLang:!1,type:"number",ipName:"max-age"},{name:"Guide",multiLang:!0,type:"richtext",ipName:"guide"},{name:"Tutorial",multiLang:!0,type:"url",ipName:"tutorial"}],e}return Object(y.a)(n,[{key:"render",value:function(){var e=this,t=this.props.languages,n=this.state.formValues,a=!(null===n||void 0===n||!n.id);return Object(v.jsxs)("div",{className:"oche-registers",children:[Object(v.jsx)(q,{canDelete:!0,onTap:function(t){e.setState({formValues:Object(x.a)({},t)})}}),Object(v.jsxs)("form",{id:"reg-form",className:"oche-registers-form",onChange:this.handleChange,onSubmit:this.handleSubmit,children:[Object(v.jsxs)("p",{className:"p-medium",children:[a?"Update":"Create"," register"]}),Object(v.jsx)("div",{className:"divider"}),this._inputs.map((function(a,c){return!1===a.multiLang?Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:a.name}),e._getInputFor(a,n)]}):Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:a.name}),t.map((function(t,c){return e._getInputFor(Object(x.a)(Object(x.a)({},a),{},{name:"".concat(a.name,"  in ").concat(t.name),ipName:"".concat(a.ipName,"_").concat(t.code)}),n)}))]})})),Object(v.jsx)("button",{children:"Add"})]})]})}},{key:"_getInputFor",value:function(e,t){var n,a,c,i,s,o=this;if(!Object.keys(e).length)return Object(v.jsx)(v.Fragment,{});switch(e.type){case"select":return Object(v.jsxs)("select",{name:e.ipName,required:!0,value:null!==(n=t[e.ipName])&&void 0!==n?n:void 0,children:[Object(v.jsx)("option",{value:null,children:e.name}),null===e||void 0===e||null===(a=e.options)||void 0===a?void 0:a.map((function(e,t){return Object(v.jsx)("option",{value:e.value,children:e.name},t)}))]});case"richtext":return Object(v.jsx)(R,{onChange:function(t){o.setState({formValues:Object(x.a)(Object(x.a)({},o.state.formValues),{},Object(g.a)({},e.ipName,t))})},name:e.ipName,theme:"snow",dFault:null!==(c=t[e.ipName])&&void 0!==c?c:void 0,required:!0,placeholder:e.name});case"textarea":return Object(v.jsx)("textarea",{name:e.ipName,placeholder:e.name,required:!0,value:null!==(i=t[e.ipName])&&void 0!==i?i:void 0});default:return Object(v.jsx)("input",{name:e.ipName,placeholder:e.name,required:!0,value:null!==(s=t[e.ipName])&&void 0!==s?s:void 0})}}}]),n}(a.Component)),V=Object(r.b)((function(e){return{countryName:e.default.name,docVersion:e.default.version,languages:e.default.languages,registers:e.default.registers}}))(_);function q(e){var t=e.onTap,n=void 0===t?function(){}:t,a=e.canDelete,c=void 0!==a&&a,i=Object(r.d)((function(e){return e.default})).registers,s=Object(r.c)();return Object(v.jsxs)("div",{className:"oche-registers-list",children:[Object(v.jsxs)("p",{className:"p-medium",children:["Registers (",i.length,")"]}),Object(v.jsx)("div",{className:"divider"}),i.map((function(e){var t="true"===e.isLinked?"With patient":"Without patient",a="true"===e.isLinked?"bg-green":"bg-orange";return Object(v.jsxs)("div",{className:"single-register",onClick:function(t){t.stopPropagation(),n(e)},children:[Object(v.jsxs)("div",{className:"flex-row",children:[Object(v.jsx)("p",{className:"p-medium",children:e.code}),c?Object(v.jsx)("i",{className:"fa fa-xmark",onClick:function(t){t.stopPropagation(),s(b({registers:Object(F.a)(i).filter((function(t){return t.id!==e.id}))}))}}):Object(v.jsx)(v.Fragment,{})]}),Object(v.jsx)("p",{id:"p-bg",className:a,children:t})]},e.id)}))]})}function R(e){var t=e.placeholder,n=void 0===t?"":t,c=e.dFault,i=void 0===c?"":c,s=e.onChange,o=void 0===s?function(){}:s,l=Object(a.useState)(i),r=Object(M.a)(l,2),u=r[0],d=r[1];return Object(a.useEffect)((function(){d(i)}),[i]),Object(v.jsx)(A.a,{id:"react-quiller",theme:"snow",value:u,onChange:function(e){d(e),o(e)},placeholder:n})}n(149);var T=function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(){var e;Object(N.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={register:null},e}return Object(y.a)(n,[{key:"usSection",value:function(e){var t=e.dSections,n=void 0===t?function(){return[]}:t,a=this.props,c=a.dispatch,i=a.registers,s=this.state.register;c(b({registers:Object(F.a)(i).map((function(e){return e.id!==(null===s||void 0===s?void 0:s.id)?e:Object(x.a)(Object(x.a)({},s),{},{sections:n([])})}))}))}},{key:"render",value:function(){var e,t=this,n=this.state.register,a=this.props.registers.filter((function(e){return e.id===(null===n||void 0===n?void 0:n.id)})),c=a.length&&null!==(e=a[0].sections)&&void 0!==e?e:[];return Object(v.jsxs)("div",{className:"oche-canevas",children:[Object(v.jsx)(q,{canDelete:!1,onTap:function(e){t.setState({register:Object(x.a)({},e)})}}),n?Object(v.jsxs)("div",{className:"caneva-builder",children:[Object(v.jsxs)("div",{className:"oche-inputs-title",children:[Object(v.jsxs)("p",{className:"p-medium",children:[null===n||void 0===n?void 0:n.code," (",c.length,")"]}),Object(v.jsx)("button",{onClick:function(e){e.stopPropagation(),t.usSection({dSections:function(e){return[].concat(Object(F.a)(c),[L({currentList:c})])}})},children:"Add"})]}),Object(v.jsx)("div",{className:"divider"}),c.map((function(e,n){return Object(v.jsxs)("div",{className:"oche-inputs-item",children:[Object(v.jsxs)("p",{children:[n+1,"."]}),Object(v.jsx)(K,{section:e,onChange:function(n){console.log("Section has changed",Object(x.a)(Object(x.a)({},e),n)),t.usSection({dSections:function(e){return c.map((function(e){return e.id!==(null===n||void 0===n?void 0:n.id)?e:Object(x.a)(Object(x.a)({},e),n)}))}})}},n),Object(v.jsx)("i",{className:"modal-header fa fa-xmark",onClick:function(n){n.stopPropagation(),n.preventDefault(),t.usSection({dSections:function(t){return c.filter((function(t){return t.id!==(null===e||void 0===e?void 0:e.id)}))}})}})]},e.id)}))]}):Object(v.jsx)(v.Fragment,{})]})}}]),n}(a.Component),E=Object(r.b)((function(e){return{registers:e.default.registers}}))(T);function K(e){var t,n,a=e.section,c=void 0===a?{}:a,i=e.onChange,s=void 0===i?function(){}:i,o=Object(r.d)((function(e){return e.default})).languages,l=c.dependOnSelect;return Object(v.jsxs)("div",{className:"single-section",children:[Object(v.jsx)(W,{title:"Indicators",data:Object(v.jsxs)("form",{className:"indicator-form",onChange:function(e){var t=e.target,n=t.name,a=t.value;s(Object(x.a)(Object(x.a)({},c),{},Object(g.a)({},n,a)))},children:[Object(v.jsx)("p",{children:"Title"}),o.map((function(e,t){return Object(v.jsx)("div",{className:"input-labeled",children:Object(v.jsx)("input",{name:"title_".concat(e.code),type:"text",placeholder:"".concat(e.name),value:c["title_".concat(e.code)]})},e.id)})),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Does it depend on select's options ?"}),Object(v.jsxs)("select",{name:"dependOnSelect",value:c.dependOnSelect,children:[Object(v.jsx)("option",{value:null,children:"Choose"}),Object(v.jsx)("option",{value:!0,children:"Yes"}),Object(v.jsx)("option",{value:!1,children:"No"})]})]}),"true"===l?Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Given select key (Key must match the one used on register form) ?"}),Object(v.jsx)("input",{name:"selectKey",type:"text",placeholder:"Select key",value:c.selectKey})]}):"false"===l?Object(v.jsx)(U,{indicats:null!==(t=null===c||void 0===c?void 0:c.indicators)&&void 0!==t?t:[],onChangeOf:function(e){s(Object(x.a)(Object(x.a)({},c),{},{indicators:e}))}}):Object(v.jsx)(v.Fragment,{})]})}),Object(v.jsx)(W,{title:"Stat inputs",data:Object(v.jsx)(Y,{onChangeOf:function(e){s(Object(x.a)(Object(x.a)({},c),{},{statInputs:e}))},statInputs:null!==(n=null===c||void 0===c?void 0:c.statInputs)&&void 0!==n?n:[]})})]})}function W(e){var t=e.title,n=void 0===t?"":t,c=e.data,i=void 0===c?Object(v.jsx)("div",{}):c,s=Object(a.useState)(!1),o=Object(M.a)(s,2),l=o[0],r=o[1];return Object(v.jsxs)("div",{className:"s-action-main",children:[Object(v.jsxs)("div",{className:"s-action-part",children:[Object(v.jsx)("p",{children:n}),Object(v.jsx)("i",{className:"fa fa-arrow-".concat(l?"up":"down"),onClick:function(e){e.stopPropagation(),r(!l)}})]}),l&&Object(v.jsx)("div",{className:"s-action-data",children:i})]})}function U(e){var t=e.onChangeOf,n=void 0===t?function(){}:t,a=e.indicats,c=void 0===a?[]:a;return Object(v.jsxs)("div",{className:"options-reg",children:[Object(v.jsxs)("div",{className:"oche-title",children:[Object(v.jsx)("label",{children:"Indicators"}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),n([].concat(Object(F.a)(c),[L({currentList:c})]))},children:"Add"})]}),c.map((function(e,t){return Object(v.jsxs)("div",{className:"options-inputs-row",children:[Object(v.jsxs)("p",{children:[t+1,"."]}),Object(v.jsx)(G,{item:e,onChangeWith:function(t){n(Object(F.a)(c.map((function(n){return n.id!==e.id?n:Object(x.a)(Object(x.a)({},n),t)}))))}}),Object(v.jsx)("i",{className:"modal-header fa fa-xmark",onClick:function(t){t.stopPropagation(),n(Object(F.a)(c.filter((function(t){return t.id!==e.id}))))}})]},t)}))]})}function G(e){var t=e.item,n=void 0===t?{}:t,a=e.onChangeWith,c=void 0===a?function(){}:a,i=Object(r.d)((function(e){return e.default})).languages;return Object(v.jsxs)("form",{className:"opts-single-form opts-single-section",onChange:function(e){e.preventDefault(),e.stopPropagation();var t=e.target,a=t.name,i=t.value;c(Object(x.a)(Object(x.a)({},n),{},Object(g.a)({},a,i)))},children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Label"}),Object(F.a)(i).map((function(e,t){return Object(v.jsx)("input",{name:"indicator_".concat(e.code),placeholder:"Option label (".concat(e.name,")"),type:"name",value:n["indicator_".concat(e.code)]},t)}))]}),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Value"}),Object(v.jsx)("input",{type:"name",name:"value",placeholder:"Value",value:n.value})]})]})}function Y(e){var t=e.onChangeOf,n=void 0===t?function(){}:t,a=e.statInputs,c=void 0===a?[]:a;return Object(v.jsxs)("div",{className:"options-reg",children:[Object(v.jsxs)("div",{className:"oche-title",children:[Object(v.jsxs)("label",{children:["Inputs (",c.length,")"]}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),n([].concat(Object(F.a)(c),[L({currentList:c})]))},children:"Add"})]}),c.map((function(e,t){return Object(v.jsxs)("div",{className:"options-inputs-row",children:[Object(v.jsxs)("p",{children:[t+1,"."]}),Object(v.jsx)(J,{item:e,onChangeWith:function(t){n(Object(F.a)(c.map((function(n){return n.id!==e.id?n:Object(x.a)(Object(x.a)({},n),t)}))))}}),Object(v.jsx)("i",{className:"modal-header fa fa-xmark",onClick:function(t){t.stopPropagation(),n(Object(F.a)(c.filter((function(t){return t.id!==e.id}))))}})]},t)}))]})}function J(e){var t=e.item,n=void 0===t?{}:t,a=e.onChangeWith,c=void 0===a?function(){}:a;return Object(v.jsxs)("div",{className:"opts-single-form opts-single-section",children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Type"}),Object(v.jsxs)("select",{name:"type",value:n.type,onChange:function(e){var t;e.preventDefault(),e.stopPropagation();var a=e.target,i=a.name,s=a.value;c(Object(x.a)(Object(x.a)({},n),{},(t={},Object(g.a)(t,i,s),Object(g.a)(t,"data",{}),t)))},children:[Object(v.jsx)("option",{value:"",children:"Choose"}),Object(v.jsx)("option",{value:"simple-count",children:"Simple Count"}),Object(v.jsx)("option",{value:"age/gender",children:"Genders under age logic"}),Object(v.jsx)("option",{value:"question/gender",children:"Genders under question"}),Object(v.jsx)("option",{value:"total/gender",children:"Genders under Total"}),Object(v.jsx)("option",{value:"question",children:"Question based"}),Object(v.jsx)("option",{value:"options",children:"Select Options based"})]})]}),null!==n&&void 0!==n&&n.type?Object(v.jsx)("div",{className:"input-labeled",children:Object(v.jsx)(B,{type:n.type,initValue:n.data,onChangeR:function(e){c(Object(x.a)(Object(x.a)({},n),{},{data:e}))}})}):Object(v.jsx)(v.Fragment,{})]})}function B(e){var t=e.type,n=void 0===t?"":t,a=e.initValue,c=void 0===a?{}:a,i=e.onChangeR,s=void 0===i?function(){}:i,o=Object(r.d)((function(e){return e.default})).languages,l=function(e){var t=e.target,n=t.name,a=t.value;s(Object(x.a)(Object(x.a)({},c),{},Object(g.a)({},n,a)))};return"age/gender"===n?Object(v.jsxs)("form",{onChange:l,children:[Object(v.jsxs)("div",{className:"oche-languages-form",children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Min age in days"}),Object(v.jsx)("input",{name:"min-age",type:"number",placeholder:"Min age (in days)",value:c["min-age"]})]}),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Max age in days"}),Object(v.jsx)("input",{name:"max-age",type:"number",placeholder:"Max age (in days)",value:c["max-age"]})]})]}),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Display unit"}),Object(v.jsxs)("select",{name:"unit",value:c.unit,children:[Object(v.jsx)("option",{value:null,children:"Choose"}),Object(v.jsx)("option",{value:"jours",children:"Days"}),Object(v.jsx)("option",{value:"mois",children:"Month"}),Object(v.jsx)("option",{value:"ans",children:"Years"})]})]})]}):"question/gender"===n||"question"===n?Object(v.jsxs)("form",{onChange:l,children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Label"}),Object(F.a)(o).map((function(e,t){var n="label_".concat(e.code);return Object(v.jsx)("input",{name:n,placeholder:"Label (".concat(e.name,")"),type:"name",value:c["label_".concat(e.code)]},t)}))]}),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Question Key"}),Object(v.jsx)("input",{name:"key",type:"text",placeholder:"Question Key",value:c.key})]})]}):"options"===n?Object(v.jsxs)("form",{onChange:l,children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Label"}),Object(F.a)(o).map((function(e,t){var n="label_".concat(e.code);return Object(v.jsx)("input",{name:n,placeholder:"Label (".concat(e.name,")"),type:"name",value:c["label_".concat(e.code)]},t)}))]}),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Select Key"}),Object(v.jsx)("input",{name:"key",type:"text",placeholder:"Select Key",value:c.key})]})]}):Object(v.jsx)(v.Fragment,{})}function H(){var e=Object(r.d)((function(e){return e.default})).provinces,t=Object(r.c)();return Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsxs)("div",{className:"oche-title",children:[Object(v.jsxs)("label",{children:["Provinces and Municipalities (",e.length,")"]}),Object(v.jsx)("button",{onClick:function(n){n.stopPropagation(),t(b({provinces:[].concat(Object(F.a)(e),[L({currentList:e})])}))},children:"Add"})]}),e.map((function(n,a){return Object(v.jsxs)("div",{className:"options-inputs-row",children:[Object(v.jsxs)("p",{children:[a+1,"."]}),Object(v.jsx)(Q,{prov:n,onProvChange:function(a){t(b({provinces:Object(F.a)(e.map((function(e){return e.id!==n.id?e:Object(x.a)(Object(x.a)({},n),a)})))}))}}),Object(v.jsx)("i",{className:"modal-header fa fa-xmark",onClick:function(a){a.preventDefault(),a.stopPropagation(),t(b({provinces:e.filter((function(e){return e.id!==n.id}))}))}})]},n.id)}))]})}function Q(e){var t,n,c=e.prov,i=void 0===c?{}:c,s=e.onProvChange,o=void 0===s?function(){}:s,l=Object(a.useState)(i),r=Object(M.a)(l,2),u=r[0],d=r[1];Object(a.useEffect)((function(){o(Object(x.a)(Object(x.a)({},i),u))}),[u]);var j=Object(x.a)(Object(x.a)({},i),u),b=null!==(t=null===j||void 0===j?void 0:j.municipalities)&&void 0!==t?t:[];return console.log(j),Object(v.jsxs)("form",{className:"opts-single-form prov-modal",onChange:function(e){e.preventDefault();var t=e.target,n=t.name,a=t.value;d(Object(x.a)(Object(x.a)({},u),{},Object(g.a)({},n,a)))},children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Name"}),Object(v.jsx)("input",{value:j.name,placeholder:"Province Name",name:"name"})]}),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsxs)("div",{className:"oche-title",children:[Object(v.jsxs)("label",{children:["Municipalities (",null!==(n=b.length)&&void 0!==n?n:0,")"]}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),d(Object(x.a)(Object(x.a)({},u),{},{municipalities:b.length?[].concat(Object(F.a)(b),[L({currentList:b})]):[L({currentList:[]})]}))},children:"Add"})]}),b.map((function(e,t){return Object(v.jsxs)("div",{className:"options-inputs-row",children:[Object(v.jsxs)("p",{children:[t+1,"."]}),Object(v.jsx)(z,{munis:e,onMunisChanges:function(t){console.log("minicip",Object(x.a)(Object(x.a)({},e),t));var n=Object(x.a)(Object(x.a)({},e),t);d(Object(x.a)(Object(x.a)({},u),{},{municipalities:b.map((function(e){return e.id===n.id?n:e}))}))}}),Object(v.jsx)("i",{className:"modal-header fa fa-xmark",onClick:function(t){t.preventDefault(),t.stopPropagation(),console.log(u),d(Object(x.a)(Object(x.a)({},u),{},{municipalities:b.filter((function(t){return t.id!==(null===e||void 0===e?void 0:e.id)}))}))}})]},e.id)}))]})]})}function z(e){var t=e.munis,n=void 0===t?{}:t,a=e.onMunisChanges,c=void 0===a?function(){}:a;return Object(v.jsx)("div",{className:"munis-div",children:Object(v.jsx)("input",{value:n.name,placeholder:"Municipality Name",onChange:function(e){e.stopPropagation(),c(Object(x.a)(Object(x.a)({},n),{},{name:e.target.value}))}})})}n(150);var X=function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(){return Object(N.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){var e=this.props,t=e.countryName,n=e.docVersion,a=e.languages,c=e.provinces,i=e.dispatch;return Object(v.jsxs)("div",{className:"oche-country",children:[Object(v.jsxs)("div",{className:"oche-country-editing",children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Country"}),Object(v.jsx)("input",{type:"name",placeholder:"Name of the country",value:t,onChange:function(e){i(b({name:e.target.value}))}})]}),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Document Version"}),Object(v.jsx)("input",{type:"number",placeholder:"Version Number",value:n,onChange:function(e){i(b({version:e.target.value}))}})]}),Object(v.jsx)(W,{title:"Supported Languages",data:Object(v.jsx)(ee,{})}),Object(v.jsx)(W,{title:"Entities",data:Object(v.jsx)(H,{})})]}),Object(v.jsxs)("div",{className:"oche-country-overview",children:[Object(v.jsxs)("h1",{className:"large-title",children:[t," v",n]}),Object(v.jsxs)("p",{className:"large-subtitle",children:["Supported Languages (",a.length,")"]}),a.map((function(e,t){return Object(v.jsxs)("p",{children:[t+1,". ",e.name," - ",e.code]},t)})),Object(v.jsxs)("p",{className:"large-subtitle",children:["Provinces (",c.length,")"]}),c.map((function(e,t){var n=e.municipalities,a=e.name,c=e.id;return Object(v.jsxs)("p",{children:[t+1,". ",a," (",null===n||void 0===n?void 0:n.map((function(e,t){return t===n.length-1?e.name:"".concat(e.name,", ")})),")"]},c)}))]})]})}}]),n}(a.Component),Z=Object(r.b)((function(e){return{countryName:e.default.name,docVersion:e.default.version,languages:e.default.languages,provinces:e.default.provinces,genders:e.default.genders,months:e.default.months,maritalStatus:e.default.maritalStatus}}))(X),$=function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(){return Object(N.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){var e=this.props,t=e.languages,n=e.dispatch;return Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsxs)("div",{className:"oche-title",children:[Object(v.jsxs)("label",{children:["Supported Languages (",t.length,")"]}),Object(v.jsx)("button",{onClick:function(e){e.stopPropagation(),n(b({languages:[].concat(Object(F.a)(t),[{id:t.length+1}])}))},children:"Add"})]}),t.map((function(e,a){return Object(v.jsxs)("div",{className:"oche-languages-form",children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Name"}),Object(v.jsx)("input",{type:"name",placeholder:"Name of the language",value:e.name,required:!0,onChange:function(a){n(b({languages:Object(F.a)(t).map((function(t){return t.id===e.id?Object(x.a)(Object(x.a)({},t),{},{name:a.target.value}):t}))}))}})]}),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Code"}),Object(v.jsx)("input",{type:"name",placeholder:"Code of the language",value:e.code,required:!0,onChange:function(a){n(b({languages:Object(F.a)(t).map((function(t){return t.id===e.id?Object(x.a)(Object(x.a)({},t),{},{code:a.target.value}):t}))}))}})]}),Object(v.jsx)("i",{className:"modal-header fa fa-xmark",onClick:function(a){a.stopPropagation(),n(b({languages:Object(F.a)(t).filter((function(t){return t.id!==e.id}))}))}})]},a)}))]})}}]),n}(a.Component),ee=Object(r.b)((function(e){return{languages:e.default.languages}}))($),te=function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(){var e,a,c,i;Object(N.a)(this,n);for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];return(i=t.call.apply(t,[this].concat(o))).state={inputs:null!==(e=null===(a=i.props)||void 0===a||null===(c=a.reg)||void 0===c?void 0:c.inputs)&&void 0!==e?e:[]},i}return Object(y.a)(n,[{key:"componentDidUpdate",value:function(e,t){if(t!==this.state){var n=this.props.onInputsChange,a=this.state.inputs;n&&n(a)}}},{key:"render",value:function(){var e=this,t=this.state.inputs;return this.props.reg?Object(v.jsxs)("div",{className:"oche-inputs",children:[Object(v.jsxs)("div",{className:"oche-inputs-title",children:[Object(v.jsxs)("p",{className:"p-medium",children:["Form's inputs (",t.length,")"]}),Object(v.jsx)("button",{onClick:function(n){n.stopPropagation(),e.setState({inputs:[].concat(Object(F.a)(t),[L({currentList:t})])})},children:"Add"})]}),Object(v.jsx)("div",{className:"divider"}),t.map((function(n,a){return Object(v.jsxs)("div",{className:"oche-inputs-item",children:[Object(v.jsxs)("p",{children:[a+1,"."]}),Object(v.jsx)(ne,{item:n,onChangeF:function(n){console.log("Coming input",n),e.setState({inputs:t.map((function(e){return e.id!==n.id?e:Object(x.a)(Object(x.a)({},e),n)}))})}}),Object(v.jsx)("i",{className:"modal-header fa fa-xmark",onClick:function(a){a.stopPropagation(),e.setState({inputs:t.filter((function(e){return e.id!==n.id}))})}})]},n.id)}))]}):Object(v.jsx)(v.Fragment,{})}}]),n}(a.Component);function ne(e){var t,n,a=e.item,c=void 0===a?{}:a,i=e.onChangeF,s=void 0===i?function(){}:i,o=Object(r.d)((function(e){return e.default})).languages;return Object(v.jsxs)("div",{className:"single-oche-input",children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Input Label"}),Object(F.a)(o).map((function(e,t){var n="inputLabel_".concat(e.code);return Object(v.jsx)("input",{name:n,placeholder:"Input label (".concat(e.name,")"),type:"name",value:c["inputLabel_".concat(e.code)],onChange:function(e){e.stopPropagation(),s(Object(x.a)(Object(x.a)({},c),{},Object(g.a)({},n,e.target.value)))}},t)}))]}),Object(v.jsxs)("div",{className:"oche-languages-form",children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Key"}),Object(v.jsx)("input",{name:"key",type:"text",placeholder:"Input Key",value:c.key,onChange:function(e){e.stopPropagation(),s(Object(x.a)(Object(x.a)({},c),{},{key:e.target.value}))}})]}),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Type"}),Object(v.jsxs)("select",{name:"type",value:c.type,onChange:function(e){e.stopPropagation(),s(Object(x.a)(Object(x.a)({},c),{},{type:e.target.value}))},children:[Object(v.jsx)("option",{value:null,children:"Type"}),Object(v.jsx)("option",{value:"text",children:"Text"}),Object(v.jsx)("option",{value:"number",children:"Number"}),Object(v.jsx)("option",{value:"number-count",children:"Number Count"}),Object(v.jsx)("option",{value:"bool",children:"Boolean"}),Object(v.jsx)("option",{value:"select",children:"Select"}),Object(v.jsx)("option",{value:"multi-select",children:"Multi Select"}),Object(v.jsx)("option",{value:"multi-input",children:"Multi Input"})]})]})]}),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Is required"}),Object(v.jsxs)("select",{name:"isRequired",value:c.isRequired,onChange:function(e){e.stopPropagation(),s(Object(x.a)(Object(x.a)({},c),{},{isRequired:e.target.value}))},children:[Object(v.jsx)("option",{value:null,children:"Choose"}),Object(v.jsx)("option",{value:!0,children:"Yes"}),Object(v.jsx)("option",{value:!1,children:"No"})]})]}),Object(v.jsx)(ae,{dOptions:null!==(t=null===c||void 0===c?void 0:c.options)&&void 0!==t?t:[],onChangeOf:function(e){s(Object(x.a)(Object(x.a)({},c),{},{options:e}))}}),Object(v.jsx)(ie,{dInputs:null!==(n=null===c||void 0===c?void 0:c.inputs)&&void 0!==n?n:[],onChangeOf:function(e){s(Object(x.a)(Object(x.a)({},c),{},{inputs:e}))}})]})}function ae(e){var t=e.onChangeOf,n=void 0===t?function(){}:t,a=e.dOptions,c=void 0===a?[]:a;return Object(v.jsxs)("div",{className:"options-reg",children:[Object(v.jsxs)("div",{className:"oche-title",children:[Object(v.jsx)("label",{children:"Options"}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),n([].concat(Object(F.a)(c),[L({currentList:c})]))},children:"Add"})]}),c.map((function(e,t){return Object(v.jsxs)("div",{className:"options-inputs-row",children:[Object(v.jsxs)("p",{children:[t+1,"."]}),Object(v.jsx)(ce,{item:e,onChangeWith:function(t){n(Object(F.a)(c.map((function(n){return n.id!==e.id?n:Object(x.a)(Object(x.a)({},n),t)}))))}}),Object(v.jsx)("i",{className:"modal-header fa fa-xmark",onClick:function(t){t.stopPropagation(),n(Object(F.a)(c.filter((function(t){return t.id!==e.id}))))}})]},t)}))]})}function ce(e){var t=e.item,n=void 0===t?{}:t,a=e.onChangeWith,c=void 0===a?function(){}:a,i=Object(r.d)((function(e){return e.default})).languages;return Object(v.jsxs)("form",{className:"opts-single-form",onChange:function(e){e.preventDefault(),e.stopPropagation();var t=e.target,a=t.name,i=t.value;c(Object(x.a)(Object(x.a)({},n),{},Object(g.a)({},a,i)))},children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Option Label"}),Object(F.a)(i).map((function(e,t){return Object(v.jsx)("input",{name:"optionLabel_".concat(e.code),placeholder:"Option label (".concat(e.name,")"),type:"name",value:n["optionLabel_".concat(e.code)]},t)}))]}),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Value"}),Object(v.jsx)("input",{type:"name",name:"value",placeholder:"Value",value:n.value})]})]})}function ie(e){var t=e.onChangeOf,n=void 0===t?function(){}:t,a=e.dInputs,c=void 0===a?[]:a;return Object(v.jsxs)("div",{className:"oche-inputsr for-inputs",children:[Object(v.jsxs)("div",{className:"oche-inputs-title",children:[Object(v.jsxs)("p",{className:"p-medium",children:["Additional Inputs (",c.length,")"]}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),n([].concat(Object(F.a)(c),[L({currentList:c})]))},children:"Add"})]}),Object(v.jsx)("div",{className:"divider"}),c.map((function(e,t){return Object(v.jsxs)("div",{className:"oche-inputs-item",children:[Object(v.jsxs)("p",{children:[t+1,"."]}),Object(v.jsx)(ne,{item:e,onChangeF:function(t){n(Object(F.a)(c.map((function(n){return n.id!==e.id?n:Object(x.a)(Object(x.a)({},n),t)}))))}}),Object(v.jsx)("i",{className:"modal-header fa fa-xmark",onClick:function(t){t.stopPropagation(),n(Object(F.a)(c.filter((function(t){return t.id!==e.id}))))}})]},e.id)}))]})}n(151);var se=function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(){var e;Object(N.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={currentReg:null},e}return Object(y.a)(n,[{key:"render",value:function(){var e=this,t=this.state.currentReg,n=this.props,a=n.registers,c=n.dispatch;return Object(v.jsxs)("div",{className:"oche-form",children:[Object(v.jsx)(q,{onTap:function(t){e.setState({currentReg:t})}}),Object(v.jsx)(te,{reg:t,onInputsChange:function(e){c(b({registers:Object(F.a)(a).map((function(n){return n.id!==(null===t||void 0===t?void 0:t.id)?n:Object(x.a)(Object(x.a)({},t),{},{inputs:e})}))}))}},t)]})}}]),n}(a.Component),oe=Object(r.b)((function(e){return{registers:e.default.registers}}))(se);function le(e){var t=e.list,n=void 0===t?[]:t,c=e.title,i=void 0===c?"":c,s=e.onLChange,o=void 0===s?function(){}:s,l=Object(a.useState)([]),u=Object(M.a)(l,2),d=u[0],j=u[1];Object(a.useEffect)((function(){j(n)}),[n]);var b=Object(r.d)((function(e){return e.default})).languages;return Object(v.jsxs)("div",{className:"oche-simple-utils",children:[Object(v.jsxs)("div",{className:"oche-title",children:[Object(v.jsxs)("p",{className:"p-medium",children:[i,"(",d.length,")"]}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),e.stopPropagation();var t=[].concat(Object(F.a)(d),[L({currentList:d})]);j(t),o(t)},children:"Add"})]}),Object(v.jsx)("div",{className:"divider"}),d.map((function(e,t){return Object(v.jsxs)("div",{className:"options-inputs-row",children:[Object(v.jsxs)("p",{children:[t+1,"."]}),Object(v.jsx)("form",{className:"oche-simple-utils-inputs",onChange:function(t){t.stopPropagation();var n=t.target,a=n.name,c=n.value,i=d.map((function(t){return t.id!==e.id?t:Object(x.a)(Object(x.a)({},t),{},Object(g.a)({},a,c))}));j(i),o(i)},children:b.map((function(t,n){return Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:t.name}),Object(v.jsx)("input",{name:t.code,type:"text",placeholder:"In ".concat(t.name),value:e["".concat(t.code)]})]},t.id)}))}),Object(v.jsx)("i",{className:"modal-header fa fa-xmark",onClick:function(t){t.preventDefault(),t.stopPropagation();var n=d.filter((function(t){return t.id!==e.id}));j(n),o(n)}})]},e.id)}))]})}var re=function(){var e=Object(w.a)(Object(S.a)().mark((function e(t){var n,a,c,i,s,o,l,r,u,d,j,b;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.body,a=void 0===n?null:n,c=t.method,i=void 0===c?"POST":c,s=t.baseUrl,o=void 0===s?"":s,l=t.endPoint,r=void 0===l?"":l,u=t.headers,d=void 0===u?{}:u,j=t.needHeaders,b=void 0!==j&&j,e.next=3,fetch("".concat(o,"/").concat(r),{method:i,body:a,headers:Object(x.a)({"Content-Type":"application/json"},d)}).then(function(){var e=Object(w.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,!t.ok){e.next=7;break}return e.abrupt("return",b?Object(x.a)({headers:t.headers},n):n);case 7:return e.abrupt("return",{error:n});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return{error:e}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();n(152);function ue(){var e=Object(r.d)((function(e){return e.default})),t=e.dictionary,n=e.languages,c=e.genders,i=e.maritalStatus,s=e.months,o=Object(r.c)(),l=Object(a.useState)([]),u=Object(M.a)(l,2),d=u[0],j=u[1],p=Object(a.useState)(!0),O=Object(M.a)(p,2),m=O[0],h=O[1];return Object(a.useEffect)((function(){re({endPoint:"pv-d/OpenCarenet-Locales-Keys.json",method:"GET",baseUrl:"https://dpictures.s3.amazonaws.com"}).then((function(e){console.log(e),h(!1),e.error?j([]):j(e.keys)}))}),[d.length]),m?Object(v.jsx)("div",{className:"center",children:"Rindira gato..."}):Object(v.jsxs)("div",{className:"oche-languages",children:[Object(v.jsxs)("div",{className:"oche-languages-dic",children:[Object(v.jsxs)("div",{className:"oche-inputs-title",children:[Object(v.jsx)("p",{className:"p-medium",children:"Dictionary of Words"}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),e.stopPropagation()},children:"Add"})]}),Object(v.jsx)("div",{className:"divider"}),d.map((function(e){return Object(v.jsx)(W,{title:e,data:Object(v.jsx)("div",{className:"input-labeled",children:Object(F.a)(n).map((function(n,a){var c,i=null!==(c=t[e])&&void 0!==c?c:{};return Object(v.jsx)("input",{name:n.code,placeholder:"".concat(e," in (").concat(n.name,")"),type:"text",value:i["".concat(n.code)],onChange:function(a){a.stopPropagation(),o(b({dictionary:Object(x.a)(Object(x.a)({},t),{},Object(g.a)({},e,Object(x.a)(Object(x.a)({},t[e]),{},Object(g.a)({},n.code,a.target.value))))}))}},a)}))})},e)}))]}),Object(v.jsxs)("div",{className:"language-utils",children:[Object(v.jsx)(de,{keys:d,onNewKey:function(e){j([].concat(Object(F.a)(d),[e]))}}),Object(v.jsx)(W,{title:"Genders",data:Object(v.jsx)(le,{title:"Genders",list:c,onLChange:function(e){o(b({genders:e}))}})}),Object(v.jsx)(W,{title:"Marital Status",data:Object(v.jsx)(le,{title:"Marital Status",list:i,onLChange:function(e){o(b({maritalStatus:e}))}})}),Object(v.jsx)(W,{title:"Year Months",data:Object(v.jsx)(le,{title:"Year Months",list:s,onLChange:function(e){o(b({months:e}))}})})]})]})}function de(e){var t=e.onNewKey,n=void 0===t?function(){}:t,c=e.keys,i=void 0===c?[]:c,s=Object(a.useState)(null),o=Object(M.a)(s,2),l=o[0],r=o[1],u=Object(a.useState)(!1),d=Object(M.a)(u,2),j=d[0],b=d[1];return Object(v.jsxs)("form",{id:"new-key-form-ref",className:"new-key-form",onSubmit:function(e){e.preventDefault(),b(!0);var t={keys:[].concat(Object(F.a)(i),[l])},a=JSON.stringify(t,null,2),c=new Blob([a],{type:"application/json"});c.name="OpenCarenet-Locales-Keys.json",c.lastModified=new Date,P(new File([c],c.name,{type:c.type})).then((function(e){var t,a;b(!1),n(l),null===(t=document)||void 0===t||null===(a=t.getElementById("new-key-form-ref"))||void 0===a||a.reset()}))},children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Add new key to dictionary"}),Object(v.jsx)("input",{name:"key",placeholder:"key",type:"text",required:!0,onChange:function(e){e.stopPropagation(),r(e.target.value)}})]}),Object(v.jsx)("button",{className:j&&"button-loading",children:j?"Rindira gato...":"Add key"})]})}n(153);var je=function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(){var e;Object(N.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={country:!1,languages:!1,registers:!1,forms:!1,canevas:!1,uploading:!1},e}return Object(y.a)(n,[{key:"openCloseModal",value:function(e,t){this.setState(Object(x.a)(Object(x.a)({},this.state),{},Object(g.a)({},e,t)))}},{key:"_saveFile",value:function(e){var t=this,n=e.upload,a=void 0!==n&&n,c=this.props.storeObj;console.log(c);var i="OpenCarenet-".concat(c.name,"-v").concat(c.version),s=JSON.stringify(c,null,2),o=new Blob([s],{type:"application/json"});if(a)this.setState({uploading:!0}),o.name=i+".json",o.lastModified=new Date,P(new File([o],o.name,{type:o.type})).then((function(e){t.setState({uploading:!1})}));else{var l=URL.createObjectURL(o),r=document.createElement("a");r.href=l,r.download=i+".json",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(l)}}},{key:"render",value:function(){var e=this,t=this.state,n=t.country,a=t.languages,c=t.registers,i=t.forms,s=t.uploading,l=t.canevas;return Object(v.jsxs)("div",{className:"oche-home",children:[n&&Object(v.jsx)(D,{child:Object(v.jsx)(Z,{}),onClose:function(){e.openCloseModal("country",!1)}}),a&&Object(v.jsx)(D,{child:Object(v.jsx)(ue,{}),onClose:function(){e.openCloseModal("languages",!1)}}),c&&Object(v.jsx)(D,{child:Object(v.jsx)(V,{}),onClose:function(){e.openCloseModal("registers",!1)}}),l&&Object(v.jsx)(D,{child:Object(v.jsx)(E,{}),onClose:function(){e.openCloseModal("canevas",!1)}}),i&&Object(v.jsx)(D,{child:Object(v.jsx)(oe,{}),onClose:function(){e.openCloseModal("forms",!1)}}),Object(v.jsxs)("div",{className:"oche-home-save-actions",children:[Object(v.jsx)(o.b,{to:"/",children:Object(v.jsx)("button",{children:"Home"})}),Object(v.jsx)("button",{onClick:function(t){t.stopPropagation(),e._saveFile({upload:!1})},children:"Save"}),Object(v.jsx)("button",{onClick:function(t){t.stopPropagation(),e._saveFile({upload:!0})},children:"Upload"}),s?Object(v.jsx)("i",{className:"fa fa-spinner fa-spin"}):Object(v.jsx)(v.Fragment,{})]}),Object(v.jsxs)("div",{className:"oche-home-actions",children:[Object(v.jsxs)("div",{className:"oche-home-single-home",onClick:function(){e.openCloseModal("country",!0)},children:[Object(v.jsx)("i",{className:"c-red fa fa-earth-africa"}),Object(v.jsx)("div",{className:"divider"}),Object(v.jsx)("p",{children:"Country"})]}),Object(v.jsxs)("div",{className:"oche-home-single-home",onClick:function(){e.openCloseModal("languages",!0)},children:[Object(v.jsx)("i",{className:"c-red fa fa-language"}),Object(v.jsx)("div",{className:"divider"}),Object(v.jsx)("p",{children:"Languages"})]})]}),Object(v.jsxs)("div",{className:"oche-home-actions",children:[Object(v.jsxs)("div",{className:"oche-home-single-home",onClick:function(){e.openCloseModal("registers",!0)},children:[Object(v.jsx)("i",{className:"c-red fa fa-rectangle-list"}),Object(v.jsx)("div",{className:"divider"}),Object(v.jsx)("p",{children:"Registers"})]}),Object(v.jsxs)("div",{className:"oche-home-single-home",onClick:function(){e.openCloseModal("forms",!0)},children:[Object(v.jsx)("i",{className:"c-red fa fa-indent"}),Object(v.jsx)("div",{className:"divider"}),Object(v.jsx)("p",{children:"Forms"})]})]})]})}}]),n}(a.Component),be=Object(r.b)((function(e){return{name:e.default.name,version:e.default.version,languages:e.default.languages,registers:e.default.registers,provinces:e.default.provinces,dictionary:e.default.dictionary,copyright:e.default.copyright,storeObj:e.default}}))(je);s.a.createRoot(document.getElementById("root")).render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(o.a,{children:Object(v.jsx)(r.a,{store:m,children:Object(v.jsxs)(l.c,{children:[Object(v.jsx)(l.a,{path:"/",element:Object(v.jsx)(f,{})}),Object(v.jsx)(l.a,{path:"/session",element:Object(v.jsx)(be,{})}),Object(v.jsx)(l.a,{path:"*",element:Object(v.jsx)("div",{children:"Not found"})})]})})})})),console.log=function(){},console.error=function(){},console.debug=function(){}},67:function(e,t,n){},71:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){}},[[154,1,2]]]);
//# sourceMappingURL=main.aeee5a38.chunk.js.map