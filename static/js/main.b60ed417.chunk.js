(this.webpackJsonpred_ticket=this.webpackJsonpred_ticket||[]).push([[0],{149:function(e,t,n){},150:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},155:function(e,t,n){},156:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),i=n(58),s=n.n(i),l=(n(67),n(23)),o=n(5),r=n(9),d=n(35),u=Object(d.b)({name:"default",initialState:{name:"",version:0,languages:[],registers:[],provinces:[],months:[],genders:[],maritalStatus:[],dictionary:{},copyright:"Donexa \xa9 ".concat((new Date).getFullYear())},reducers:{continueSession:function(e,t){var n=t.payload,a=n.name,c=n.version,i=n.languages,s=n.registers,l=n.provinces,o=n.dictionary,r=n.months,d=n.genders,u=n.maritalStatus;e.name=a,e.version=c,e.languages=i,e.registers=s,e.provinces=l,e.dictionary=o,e.months=r,e.genders=d,e.maritalStatus=u},copyWith:function(e,t){var n,a,c,i,s,l,o,r,d;console.log(t.payload),e.name=null!==(n=t.payload.name)&&void 0!==n?n:e.name,e.version=null!==(a=t.payload.version)&&void 0!==a?a:e.version,e.languages=null!==(c=t.payload.languages)&&void 0!==c?c:e.languages,e.registers=null!==(i=t.payload.registers)&&void 0!==i?i:e.registers,e.provinces=null!==(s=t.payload.provinces)&&void 0!==s?s:e.provinces,e.months=null!==(l=t.payload.months)&&void 0!==l?l:e.months,e.genders=null!==(o=t.payload.genders)&&void 0!==o?o:e.genders,e.maritalStatus=null!==(r=t.payload.maritalStatus)&&void 0!==r?r:e.maritalStatus,e.dictionary=null!==(d=t.payload.dictionary)&&void 0!==d?d:e.dictionary}}}),j=u.actions,b=j.copyWith,O=j.continueSession,p=u.reducer,h=Object(d.a)({reducer:{default:p}}),m=(n(71),n.p+"static/media/oche.e0f9f9ef.png"),v=n(0);function f(){var e=Object(o.m)(),t=Object(r.c)();return Object(v.jsxs)("div",{className:"oche-main",children:[Object(v.jsxs)("div",{className:"oche-main-left",children:[Object(v.jsx)("h1",{className:"large-title",children:"OpenCarenet Community Health Edition \u2699\ufe0f"}),Object(v.jsx)("div",{className:"divider"}),Object(v.jsxs)("div",{className:"oche-main-actions",children:[Object(v.jsx)(l.b,{to:"/session",children:Object(v.jsx)("button",{children:"START NEW SESSION"})}),Object(v.jsx)("input",{id:"continue-session",type:"file",accept:"application/json",style:{display:"none"},onChange:function(n){var a=n.target.files[0];if("application/json"===a.type){var c=new window.FileReader;c.onload=function(n){console.log(JSON.parse(c.result)),t(O(JSON.parse(c.result))),e("/session")},c.readAsText(a)}}}),Object(v.jsx)("label",{className:"button-label",htmlFor:"continue-session",children:"CONTINUE SESSION"})]})]}),Object(v.jsx)("div",{className:"oche-main-right",children:Object(v.jsx)("img",{src:m,alt:"donexa logo"})})]})}var x=n(6),g=n(2),N=n(11),y=n(12),C=n(13),k=n(14),S=n(7),P=n(10),w=function(e){var t=e.currentList,n=void 0===t?[]:t;return n.length<1?{id:1}:{id:n[n.length-1].id+1}},L=function(){var e=Object(P.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.name,"Name"),n=new FormData,console.log(t),n.append("key","pv-d/".concat(t.name)),n.append("acl","public-read"),n.append("file",t),e.next=8,fetch("https://s3.us-east-1.amazonaws.com/dpictures",{body:n,method:"POST"}).then(function(){var e=Object(P.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,!t.ok){e.next=7;break}return e.abrupt("return",Object(g.a)({headers:t.headers},n));case 7:return console.log(n),e.abrupt("return",{error:n});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e),{error:e}}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=(n(73),function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(){return Object(N.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){var e=this.props,t=e.child,n=e.onClose;return Object(v.jsx)("div",{className:"modal-curtain",children:Object(v.jsxs)("div",{className:"oche-modal",children:[Object(v.jsx)("div",{className:"modal-header",children:Object(v.jsx)("i",{className:"fa fa-xmark",onClick:function(e){e.stopPropagation(),n()}})}),Object(v.jsx)("div",{className:"divider"}),Object(v.jsx)("div",{className:"modal-child",children:t})]})})}}]),n}(a.Component)),D=n(4),A=n(8);function T(){var e=Object(r.d)((function(e){return e.default})).provinces,t=Object(r.c)();return Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsxs)("div",{className:"oche-title",children:[Object(v.jsxs)("label",{children:["Provinces and Municipalities (",e.length,")"]}),Object(v.jsx)("button",{onClick:function(n){n.stopPropagation(),t(b({provinces:[].concat(Object(D.a)(e),[w({currentList:e})])}))},children:"Add"})]}),e.map((function(n,a){return Object(v.jsxs)("div",{className:"options-inputs-row",children:[Object(v.jsxs)("p",{children:[a+1,"."]}),Object(v.jsx)(F,{prov:n,onProvChange:function(a){t(b({provinces:Object(D.a)(e.map((function(e){return e.id!==n.id?e:Object(g.a)(Object(g.a)({},n),a)})))}))}}),Object(v.jsx)("i",{className:"modal-header fa fa-xmark",onClick:function(a){a.preventDefault(),a.stopPropagation(),t(b({provinces:e.filter((function(e){return e.id!==n.id}))}))}})]},n.id)}))]})}function F(e){var t,n,c=e.prov,i=void 0===c?{}:c,s=e.onProvChange,l=void 0===s?function(){}:s,o=Object(a.useState)(i),r=Object(A.a)(o,2),d=r[0],u=r[1];Object(a.useEffect)((function(){l(Object(g.a)(Object(g.a)({},i),d))}),[d]);var j=Object(g.a)(Object(g.a)({},i),d),b=null!==(t=null===j||void 0===j?void 0:j.municipalities)&&void 0!==t?t:[];return console.log(j),Object(v.jsxs)("form",{className:"opts-single-form prov-modal",onChange:function(e){e.preventDefault();var t=e.target,n=t.name,a=t.value;u(Object(g.a)(Object(g.a)({},d),{},Object(x.a)({},n,a)))},children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Name"}),Object(v.jsx)("input",{value:j.name,placeholder:"Province Name",name:"name"})]}),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsxs)("div",{className:"oche-title",children:[Object(v.jsxs)("label",{children:["Municipalities (",null!==(n=b.length)&&void 0!==n?n:0,")"]}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),u(Object(g.a)(Object(g.a)({},d),{},{municipalities:b.length?[].concat(Object(D.a)(b),[w({currentList:b})]):[w({currentList:[]})]}))},children:"Add"})]}),b.map((function(e,t){return Object(v.jsxs)("div",{className:"options-inputs-row",children:[Object(v.jsxs)("p",{children:[t+1,"."]}),Object(v.jsx)(I,{munis:e,onMunisChanges:function(t){console.log("minicip",Object(g.a)(Object(g.a)({},e),t));var n=Object(g.a)(Object(g.a)({},e),t);u(Object(g.a)(Object(g.a)({},d),{},{municipalities:b.map((function(e){return e.id===n.id?n:e}))}))}}),Object(v.jsx)("i",{className:"modal-header fa fa-xmark",onClick:function(t){t.preventDefault(),t.stopPropagation(),console.log(d),u(Object(g.a)(Object(g.a)({},d),{},{municipalities:b.filter((function(t){return t.id!==(null===e||void 0===e?void 0:e.id)}))}))}})]},e.id)}))]})]})}function I(e){var t=e.munis,n=void 0===t?{}:t,a=e.onMunisChanges,c=void 0===a?function(){}:a;return Object(v.jsx)("div",{className:"munis-div",children:Object(v.jsx)("input",{value:n.name,placeholder:"Municipality Name",onChange:function(e){e.stopPropagation(),c(Object(g.a)(Object(g.a)({},n),{},{name:e.target.value}))}})})}n(74);var _=n(60),V=n.n(_),R=(n(148),function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(){var e;Object(N.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={formValues:{}},e.handleSubmit=function(t){var n,a=e.props,c=a.registers,i=a.dispatch,s=e.state.formValues,l=!(null===s||void 0===s||!s.id);t.preventDefault(),console.log(e.state.formValues),i(b(l?{registers:Object(D.a)(c).map((function(e){return e.id!==s.id?e:Object(g.a)(Object(g.a)({},e),s)}))}:{registers:[].concat(Object(D.a)(c),[Object(g.a)(Object(g.a)(Object(g.a)({},w({currentList:c})),e.state.formValues),{},{inputs:[]})])})),null===(n=window.document.querySelector("#reg-form"))||void 0===n||n.reset()},e.handleChange=function(t){t.preventDefault();var n=t.target,a=n.name,c=n.value;e.setState({formValues:Object(g.a)(Object(g.a)({},e.state.formValues),{},Object(x.a)({},a,c))})},e._inputs=[{name:"Name",multiLang:!0,type:"name",ipName:"name"},{name:"Description",multiLang:!0,type:"textarea",ipName:"description"},{name:"Code",multiLang:!1,type:"name",ipName:"code"},{name:"Does it require a patient ?",multiLang:!1,type:"select",options:[{name:"Yes",value:!0},{name:"No",value:!1}],ipName:"isLinked"},{name:"Patient Age Min",multiLang:!1,type:"number",ipName:"min-age"},{name:"Patient Age Max",multiLang:!1,type:"number",ipName:"max-age"},{name:"Guide",multiLang:!0,type:"richtext",ipName:"guide"},{name:"Tutorial",multiLang:!0,type:"url",ipName:"tutorial"}],e}return Object(y.a)(n,[{key:"render",value:function(){var e=this,t=this.props.languages,n=this.state.formValues,a=!(null===n||void 0===n||!n.id);return Object(v.jsxs)("div",{className:"oche-registers",children:[Object(v.jsx)(E,{canDelete:!0,onTap:function(t){e.setState({formValues:Object(g.a)({},t)})}}),Object(v.jsxs)("form",{id:"reg-form",className:"oche-registers-form",onChange:this.handleChange,onSubmit:this.handleSubmit,children:[Object(v.jsxs)("p",{className:"p-medium",children:[a?"Update":"Create"," register"]}),Object(v.jsx)("div",{className:"divider"}),this._inputs.map((function(a,c){return!1===a.multiLang?Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:a.name}),e._getInputFor(a,n)]}):Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:a.name}),t.map((function(t,c){return e._getInputFor(Object(g.a)(Object(g.a)({},a),{},{name:"".concat(a.name,"  in ").concat(t.name),ipName:"".concat(a.ipName,"_").concat(t.code)}),n)}))]})})),Object(v.jsx)("button",{children:"Add"})]})]})}},{key:"_getInputFor",value:function(e,t){var n,a,c,i,s,l=this;if(!Object.keys(e).length)return Object(v.jsx)(v.Fragment,{});switch(e.type){case"select":return Object(v.jsxs)("select",{name:e.ipName,required:!0,value:null!==(n=t[e.ipName])&&void 0!==n?n:void 0,children:[Object(v.jsx)("option",{value:null,children:e.name}),null===e||void 0===e||null===(a=e.options)||void 0===a?void 0:a.map((function(e,t){return Object(v.jsx)("option",{value:e.value,children:e.name},t)}))]});case"richtext":return Object(v.jsx)(K,{onChange:function(t){l.setState({formValues:Object(g.a)(Object(g.a)({},l.state.formValues),{},Object(x.a)({},e.ipName,t))})},name:e.ipName,theme:"snow",dFault:null!==(c=t[e.ipName])&&void 0!==c?c:void 0,required:!0,placeholder:e.name});case"textarea":return Object(v.jsx)("textarea",{name:e.ipName,placeholder:e.name,required:!0,value:null!==(i=t[e.ipName])&&void 0!==i?i:void 0});default:return Object(v.jsx)("input",{name:e.ipName,placeholder:e.name,required:!0,value:null!==(s=t[e.ipName])&&void 0!==s?s:void 0})}}}]),n}(a.Component)),q=Object(r.b)((function(e){return{countryName:e.default.name,docVersion:e.default.version,languages:e.default.languages,registers:e.default.registers}}))(R);function E(e){var t=e.onTap,n=void 0===t?function(){}:t,a=e.canDelete,c=void 0!==a&&a,i=Object(r.d)((function(e){return e.default})).registers,s=Object(r.c)();return Object(v.jsxs)("div",{className:"oche-registers-list",children:[Object(v.jsxs)("p",{className:"p-medium",children:["Registers (",i.length,")"]}),Object(v.jsx)("div",{className:"divider"}),i.map((function(e){var t="true"===e.isLinked?"With patient":"Without patient",a="true"===e.isLinked?"bg-green":"bg-orange";return Object(v.jsxs)("div",{className:"single-register",onClick:function(t){t.stopPropagation(),n(e)},children:[Object(v.jsxs)("div",{className:"flex-row",children:[Object(v.jsx)("p",{className:"p-medium",children:e.code}),c?Object(v.jsx)("i",{className:"fa fa-xmark",onClick:function(t){t.stopPropagation(),s(b({registers:Object(D.a)(i).filter((function(t){return t.id!==e.id}))}))}}):Object(v.jsx)(v.Fragment,{})]}),Object(v.jsx)("p",{id:"p-bg",className:a,children:t})]},e.id)}))]})}function K(e){var t=e.placeholder,n=void 0===t?"":t,c=e.dFault,i=void 0===c?"":c,s=e.onChange,l=void 0===s?function(){}:s,o=Object(a.useState)(i),r=Object(A.a)(o,2),d=r[0],u=r[1];return Object(a.useEffect)((function(){u(i)}),[i]),Object(v.jsx)(V.a,{id:"react-quiller",theme:"snow",value:d,onChange:function(e){u(e),l(e)},placeholder:n})}n(149);var W=function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(){var e;Object(N.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={register:null},e}return Object(y.a)(n,[{key:"usSection",value:function(e){var t=e.dSections,n=void 0===t?function(){return[]}:t,a=this.props,c=a.dispatch,i=a.registers,s=this.state.register;c(b({registers:Object(D.a)(i).map((function(e){return e.id!==(null===s||void 0===s?void 0:s.id)?e:Object(g.a)(Object(g.a)({},s),{},{sections:n([])})}))}))}},{key:"render",value:function(){var e,t=this,n=this.state.register,a=this.props.registers.filter((function(e){return e.id===(null===n||void 0===n?void 0:n.id)})),c=a.length&&null!==(e=a[0].sections)&&void 0!==e?e:[];return Object(v.jsxs)("div",{className:"oche-canevas",children:[Object(v.jsx)(E,{canDelete:!1,onTap:function(e){t.setState({register:Object(g.a)({},e)})}}),n?Object(v.jsxs)("div",{className:"caneva-builder",children:[Object(v.jsxs)("div",{className:"oche-inputs-title",children:[Object(v.jsxs)("p",{className:"p-medium",children:[null===n||void 0===n?void 0:n.code," (",c.length,")"]}),Object(v.jsx)("button",{onClick:function(e){e.stopPropagation(),t.usSection({dSections:function(e){return[].concat(Object(D.a)(c),[w({currentList:c})])}})},children:"Add"})]}),Object(v.jsx)("div",{className:"divider"}),c.map((function(e,n){return Object(v.jsxs)("div",{className:"oche-inputs-item",children:[Object(v.jsxs)("p",{children:[n+1,"."]}),Object(v.jsx)(G,{section:e,onChange:function(n){console.log("Section has changed",Object(g.a)(Object(g.a)({},e),n)),t.usSection({dSections:function(e){return c.map((function(e){return e.id!==(null===n||void 0===n?void 0:n.id)?e:Object(g.a)(Object(g.a)({},e),n)}))}})}},n),Object(v.jsx)("i",{className:"modal-header fa fa-xmark",onClick:function(n){n.stopPropagation(),n.preventDefault(),t.usSection({dSections:function(t){return c.filter((function(t){return t.id!==(null===e||void 0===e?void 0:e.id)}))}})}})]},e.id)}))]}):Object(v.jsx)(v.Fragment,{})]})}}]),n}(a.Component);Object(r.b)((function(e){return{registers:e.default.registers}}))(W);function G(e){var t,n,a=e.section,c=void 0===a?{}:a,i=e.onChange,s=void 0===i?function(){}:i,l=Object(r.d)((function(e){return e.default})).languages,o=c.dependOnSelect;return Object(v.jsxs)("div",{className:"single-section",children:[Object(v.jsx)(U,{title:"Indicators",data:Object(v.jsxs)("form",{className:"indicator-form",onChange:function(e){var t=e.target,n=t.name,a=t.value;s(Object(g.a)(Object(g.a)({},c),{},Object(x.a)({},n,a)))},children:[Object(v.jsx)("p",{children:"Title"}),l.map((function(e,t){return Object(v.jsx)("div",{className:"input-labeled",children:Object(v.jsx)("input",{name:"title_".concat(e.code),type:"text",placeholder:"".concat(e.name),value:c["title_".concat(e.code)]})},e.id)})),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Does it depend on select's options ?"}),Object(v.jsxs)("select",{name:"dependOnSelect",value:c.dependOnSelect,children:[Object(v.jsx)("option",{value:null,children:"Choose"}),Object(v.jsx)("option",{value:!0,children:"Yes"}),Object(v.jsx)("option",{value:!1,children:"No"})]})]}),"true"===o?Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Given select key (Key must match the one used on register form) ?"}),Object(v.jsx)("input",{name:"selectKey",type:"text",placeholder:"Select key",value:c.selectKey})]}):"false"===o?Object(v.jsx)(Y,{indicats:null!==(t=null===c||void 0===c?void 0:c.indicators)&&void 0!==t?t:[],onChangeOf:function(e){s(Object(g.a)(Object(g.a)({},c),{},{indicators:e}))}}):Object(v.jsx)(v.Fragment,{})]})}),Object(v.jsx)(U,{title:"Stat inputs",data:Object(v.jsx)(J,{onChangeOf:function(e){s(Object(g.a)(Object(g.a)({},c),{},{statInputs:e}))},statInputs:null!==(n=null===c||void 0===c?void 0:c.statInputs)&&void 0!==n?n:[]})})]})}function U(e){var t=e.title,n=void 0===t?"":t,c=e.data,i=void 0===c?Object(v.jsx)("div",{}):c,s=Object(a.useState)(!1),l=Object(A.a)(s,2),o=l[0],r=l[1];return Object(v.jsxs)("div",{className:"s-action-main",children:[Object(v.jsxs)("div",{className:"s-action-part",children:[Object(v.jsx)("p",{children:n}),Object(v.jsx)("i",{className:"fa fa-arrow-".concat(o?"up":"down"),onClick:function(e){e.stopPropagation(),r(!o)}})]}),o&&Object(v.jsx)("div",{className:"s-action-data",children:i})]})}function Y(e){var t=e.onChangeOf,n=void 0===t?function(){}:t,a=e.indicats,c=void 0===a?[]:a;return Object(v.jsxs)("div",{className:"options-reg",children:[Object(v.jsxs)("div",{className:"oche-title",children:[Object(v.jsx)("label",{children:"Indicators"}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),n([].concat(Object(D.a)(c),[w({currentList:c})]))},children:"Add"})]}),c.map((function(e,t){return Object(v.jsxs)("div",{className:"options-inputs-row",children:[Object(v.jsxs)("p",{children:[t+1,"."]}),Object(v.jsx)(B,{item:e,onChangeWith:function(t){n(Object(D.a)(c.map((function(n){return n.id!==e.id?n:Object(g.a)(Object(g.a)({},n),t)}))))}}),Object(v.jsx)("i",{className:"modal-header fa fa-xmark",onClick:function(t){t.stopPropagation(),n(Object(D.a)(c.filter((function(t){return t.id!==e.id}))))}})]},t)}))]})}function B(e){var t=e.item,n=void 0===t?{}:t,a=e.onChangeWith,c=void 0===a?function(){}:a,i=Object(r.d)((function(e){return e.default})).languages;return Object(v.jsxs)("form",{className:"opts-single-form opts-single-section",onChange:function(e){e.preventDefault(),e.stopPropagation();var t=e.target,a=t.name,i=t.value;c(Object(g.a)(Object(g.a)({},n),{},Object(x.a)({},a,i)))},children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Label"}),Object(D.a)(i).map((function(e,t){return Object(v.jsx)("input",{name:"indicator_".concat(e.code),placeholder:"Option label (".concat(e.name,")"),type:"name",value:n["indicator_".concat(e.code)]},t)}))]}),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Value"}),Object(v.jsx)("input",{type:"name",name:"value",placeholder:"Value",value:n.value})]})]})}function J(e){var t=e.onChangeOf,n=void 0===t?function(){}:t,a=e.statInputs,c=void 0===a?[]:a;return Object(v.jsxs)("div",{className:"options-reg",children:[Object(v.jsxs)("div",{className:"oche-title",children:[Object(v.jsxs)("label",{children:["Inputs (",c.length,")"]}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),n([].concat(Object(D.a)(c),[w({currentList:c})]))},children:"Add"})]}),c.map((function(e,t){return Object(v.jsxs)("div",{className:"options-inputs-row",children:[Object(v.jsxs)("p",{children:[t+1,"."]}),Object(v.jsx)(H,{item:e,onChangeWith:function(t){n(Object(D.a)(c.map((function(n){return n.id!==e.id?n:Object(g.a)(Object(g.a)({},n),t)}))))}}),Object(v.jsx)("i",{className:"modal-header fa fa-xmark",onClick:function(t){t.stopPropagation(),n(Object(D.a)(c.filter((function(t){return t.id!==e.id}))))}})]},t)}))]})}function H(e){var t=e.item,n=void 0===t?{}:t,a=e.onChangeWith,c=void 0===a?function(){}:a;return Object(v.jsxs)("div",{className:"opts-single-form opts-single-section",children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Type"}),Object(v.jsxs)("select",{name:"type",value:n.type,onChange:function(e){var t;e.preventDefault(),e.stopPropagation();var a=e.target,i=a.name,s=a.value;c(Object(g.a)(Object(g.a)({},n),{},(t={},Object(x.a)(t,i,s),Object(x.a)(t,"data",{}),t)))},children:[Object(v.jsx)("option",{value:"",children:"Choose"}),Object(v.jsx)("option",{value:"simple-count",children:"Simple Count"}),Object(v.jsx)("option",{value:"age/gender",children:"Genders under age logic"}),Object(v.jsx)("option",{value:"question/gender",children:"Genders under question"}),Object(v.jsx)("option",{value:"total/gender",children:"Genders under Total"}),Object(v.jsx)("option",{value:"question",children:"Question based"}),Object(v.jsx)("option",{value:"options",children:"Select Options based"})]})]}),null!==n&&void 0!==n&&n.type?Object(v.jsx)("div",{className:"input-labeled",children:Object(v.jsx)(Q,{type:n.type,initValue:n.data,onChangeR:function(e){c(Object(g.a)(Object(g.a)({},n),{},{data:e}))}})}):Object(v.jsx)(v.Fragment,{})]})}function Q(e){var t=e.type,n=void 0===t?"":t,a=e.initValue,c=void 0===a?{}:a,i=e.onChangeR,s=void 0===i?function(){}:i,l=Object(r.d)((function(e){return e.default})).languages,o=function(e){var t=e.target,n=t.name,a=t.value;s(Object(g.a)(Object(g.a)({},c),{},Object(x.a)({},n,a)))};return"age/gender"===n?Object(v.jsxs)("form",{onChange:o,children:[Object(v.jsxs)("div",{className:"oche-languages-form",children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Min age in days"}),Object(v.jsx)("input",{name:"min-age",type:"number",placeholder:"Min age (in days)",value:c["min-age"]})]}),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Max age in days"}),Object(v.jsx)("input",{name:"max-age",type:"number",placeholder:"Max age (in days)",value:c["max-age"]})]})]}),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Display unit"}),Object(v.jsxs)("select",{name:"unit",value:c.unit,children:[Object(v.jsx)("option",{value:null,children:"Choose"}),Object(v.jsx)("option",{value:"jours",children:"Days"}),Object(v.jsx)("option",{value:"mois",children:"Month"}),Object(v.jsx)("option",{value:"ans",children:"Years"})]})]})]}):"question/gender"===n||"question"===n?Object(v.jsxs)("form",{onChange:o,children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Label"}),Object(D.a)(l).map((function(e,t){var n="label_".concat(e.code);return Object(v.jsx)("input",{name:n,placeholder:"Label (".concat(e.name,")"),type:"name",value:c["label_".concat(e.code)]},t)}))]}),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Question Key"}),Object(v.jsx)("input",{name:"key",type:"text",placeholder:"Question Key",value:c.key})]})]}):"options"===n?Object(v.jsxs)("form",{onChange:o,children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Label"}),Object(D.a)(l).map((function(e,t){var n="label_".concat(e.code);return Object(v.jsx)("input",{name:n,placeholder:"Label (".concat(e.name,")"),type:"name",value:c["label_".concat(e.code)]},t)}))]}),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Select Key"}),Object(v.jsx)("input",{name:"key",type:"text",placeholder:"Select Key",value:c.key})]})]}):Object(v.jsx)(v.Fragment,{})}n(150);var z=function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(){return Object(N.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){var e=this.props,t=e.countryName,n=e.docVersion,a=e.languages,c=e.provinces,i=e.dispatch;return Object(v.jsxs)("div",{className:"oche-country",children:[Object(v.jsxs)("div",{className:"oche-country-editing",children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Country"}),Object(v.jsx)("input",{type:"name",placeholder:"Name of the country",value:t,onChange:function(e){i(b({name:e.target.value}))}})]}),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Document Version"}),Object(v.jsx)("input",{type:"number",placeholder:"Version Number",value:n,onChange:function(e){i(b({version:e.target.value}))}})]}),Object(v.jsx)(U,{title:"Supported Languages",data:Object(v.jsx)($,{})}),Object(v.jsx)(U,{title:"Entities",data:Object(v.jsx)(T,{})})]}),Object(v.jsxs)("div",{className:"oche-country-overview",children:[Object(v.jsxs)("h1",{className:"large-title",children:[t," v",n]}),Object(v.jsxs)("p",{className:"large-subtitle",children:["Supported Languages (",a.length,")"]}),a.map((function(e,t){return Object(v.jsxs)("p",{children:[t+1,". ",e.name," - ",e.code]},t)})),Object(v.jsxs)("p",{className:"large-subtitle",children:["Provinces (",c.length,")"]}),c.map((function(e,t){var n=e.municipalities,a=e.name,c=e.id;return Object(v.jsxs)("p",{children:[t+1,". ",a," (",null===n||void 0===n?void 0:n.map((function(e,t){return t===n.length-1?e.name:"".concat(e.name,", ")})),")"]},c)}))]})]})}}]),n}(a.Component),X=Object(r.b)((function(e){return{countryName:e.default.name,docVersion:e.default.version,languages:e.default.languages,provinces:e.default.provinces,genders:e.default.genders,months:e.default.months,maritalStatus:e.default.maritalStatus}}))(z),Z=function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(){return Object(N.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){var e=this.props,t=e.languages,n=e.dispatch;return Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsxs)("div",{className:"oche-title",children:[Object(v.jsxs)("label",{children:["Supported Languages (",t.length,")"]}),Object(v.jsx)("button",{onClick:function(e){e.stopPropagation(),n(b({languages:[].concat(Object(D.a)(t),[{id:t.length+1}])}))},children:"Add"})]}),t.map((function(e,a){return Object(v.jsxs)("div",{className:"oche-languages-form",children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Name"}),Object(v.jsx)("input",{type:"name",placeholder:"Name of the language",value:e.name,required:!0,onChange:function(a){n(b({languages:Object(D.a)(t).map((function(t){return t.id===e.id?Object(g.a)(Object(g.a)({},t),{},{name:a.target.value}):t}))}))}})]}),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Code"}),Object(v.jsx)("input",{type:"name",placeholder:"Code of the language",value:e.code,required:!0,onChange:function(a){n(b({languages:Object(D.a)(t).map((function(t){return t.id===e.id?Object(g.a)(Object(g.a)({},t),{},{code:a.target.value}):t}))}))}})]}),Object(v.jsx)("i",{className:"modal-header fa fa-xmark",onClick:function(a){a.stopPropagation(),n(b({languages:Object(D.a)(t).filter((function(t){return t.id!==e.id}))}))}})]},a)}))]})}}]),n}(a.Component),$=Object(r.b)((function(e){return{languages:e.default.languages}}))(Z),ee=function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(){var e,a,c,i;Object(N.a)(this,n);for(var s=arguments.length,l=new Array(s),o=0;o<s;o++)l[o]=arguments[o];return(i=t.call.apply(t,[this].concat(l))).state={inputs:null!==(e=null===(a=i.props)||void 0===a||null===(c=a.reg)||void 0===c?void 0:c.inputs)&&void 0!==e?e:[]},i}return Object(y.a)(n,[{key:"componentDidUpdate",value:function(e,t){if(t!==this.state){var n=this.props.onInputsChange,a=this.state.inputs;n&&n(a)}}},{key:"render",value:function(){var e=this,t=this.state.inputs;return this.props.reg?Object(v.jsxs)("div",{className:"oche-inputs",children:[Object(v.jsxs)("div",{className:"oche-inputs-title",children:[Object(v.jsxs)("p",{className:"p-medium",children:["Form's inputs (",t.length,")"]}),Object(v.jsx)("button",{onClick:function(n){n.stopPropagation(),e.setState({inputs:[].concat(Object(D.a)(t),[w({currentList:t})])})},children:"Add"})]}),Object(v.jsx)("div",{className:"divider"}),t.map((function(n,a){var c;return Object(v.jsx)(U,{title:null!==(c=null===n||void 0===n?void 0:n.key)&&void 0!==c?c:"",data:Object(v.jsxs)("div",{className:"oche-inputs-item",children:[Object(v.jsxs)("p",{children:[a+1,"."]}),Object(v.jsx)(te,{item:n,onChangeF:function(n){console.log("Coming input",n),e.setState({inputs:t.map((function(e){return e.id!==n.id?e:Object(g.a)(Object(g.a)({},e),n)}))})}}),Object(v.jsx)("i",{className:"modal-header fa fa-xmark",onClick:function(a){a.stopPropagation(),e.setState({inputs:t.filter((function(e){return e.id!==n.id}))})}})]})},n.id)}))]}):Object(v.jsx)(v.Fragment,{})}}]),n}(a.Component);function te(e){var t,n,a,c,i,s,l=e.item,o=void 0===l?{}:l,d=e.onChangeF,u=void 0===d?function(){}:d,j=Object(r.d)((function(e){return e.default})),b=j.languages,O=j.genders;return Object(v.jsxs)("div",{className:"single-oche-input",children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Input Label"}),Object(D.a)(b).map((function(e,t){var n="inputLabel_".concat(e.code);return Object(v.jsx)("input",{name:n,placeholder:"Input label (".concat(e.name,")"),type:"name",value:o["inputLabel_".concat(e.code)],onChange:function(e){e.stopPropagation(),u(Object(g.a)(Object(g.a)({},o),{},Object(x.a)({},n,e.target.value)))}},t)}))]}),Object(v.jsxs)("div",{className:"oche-languages-form",children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Key"}),Object(v.jsx)("input",{name:"key",type:"text",placeholder:"Input Key",value:o.key,onChange:function(e){e.stopPropagation(),u(Object(g.a)(Object(g.a)({},o),{},{key:e.target.value}))}})]}),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Type"}),Object(v.jsxs)("select",{name:"type",value:o.type,onChange:function(e){e.stopPropagation(),u(Object(g.a)(Object(g.a)({},o),{},{type:e.target.value}))},children:[Object(v.jsx)("option",{value:null,children:"Type"}),Object(v.jsx)("option",{value:"text",children:"Text"}),Object(v.jsx)("option",{value:"number",children:"Number"}),Object(v.jsx)("option",{value:"bool",children:"Boolean"}),Object(v.jsx)("option",{value:"select",children:"Select"}),Object(v.jsx)("option",{value:"multi-select",children:"Multi Select"}),Object(v.jsx)("option",{value:"multi-input",children:"Multi Input"})]})]})]}),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Is required"}),Object(v.jsxs)("select",{name:"isRequired",value:o.isRequired,onChange:function(e){e.stopPropagation(),u(Object(g.a)(Object(g.a)({},o),{},{isRequired:e.target.value}))},children:[Object(v.jsx)("option",{value:null,children:"Choose"}),Object(v.jsx)("option",{value:!0,children:"Yes"}),Object(v.jsx)("option",{value:!1,children:"No"})]})]}),Object(v.jsxs)("div",{className:"oche-languages-form",children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Min age"}),Object(v.jsx)("input",{name:"minAge",type:"number",placeholder:"Min age",value:o.minAge,onChange:function(e){e.stopPropagation(),u(Object(g.a)(Object(g.a)({},o),{},{minAge:e.target.value}))}})]}),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Max age"}),Object(v.jsx)("input",{name:"maxAge",type:"number",placeholder:"Max age",value:o.maxAge,onChange:function(e){e.stopPropagation(),u(Object(g.a)(Object(g.a)({},o),{},{maxAge:e.target.value}))}})]})]}),Object(v.jsxs)("div",{className:"oche-languages-form",children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Age Type"}),Object(v.jsxs)("select",{name:"ageType",value:o.ageType,onChange:function(e){e.stopPropagation(),u(Object(g.a)(Object(g.a)({},o),{},{ageType:e.target.value}))},children:[Object(v.jsx)("option",{children:"Choose"}),Object(v.jsx)("option",{value:"year",children:"Year"}),Object(v.jsx)("option",{value:"month",children:"Months"}),Object(v.jsx)("option",{value:"days",children:"Days"})]})]}),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Gender"}),Object(v.jsxs)("select",{name:"gender",value:o.gender,onChange:function(e){e.stopPropagation(),u(Object(g.a)(Object(g.a)({},o),{},{gender:e.target.value}))},children:[Object(v.jsx)("option",{children:"Choose"}),Object(D.a)(O).map((function(e,t){var n;return Object(v.jsx)("option",{value:e.id,children:null!==(n=null===e||void 0===e?void 0:e.fr)&&void 0!==n?n:""})}))]})]})]}),Object(v.jsx)(ae,{dOptions:null!==(t=null===o||void 0===o?void 0:o.options)&&void 0!==t?t:[],onChangeOf:function(e){u(Object(g.a)(Object(g.a)({},o),{},{options:e}))}}),Object(v.jsx)(ie,{dInputs:null!==(n=null===o||void 0===o?void 0:o.inputs)&&void 0!==n?n:[],onChangeOf:function(e){u(Object(g.a)(Object(g.a)({},o),{},{inputs:e}))}}),Object(v.jsx)(ne,{onChangeOf:function(e){var t,n=null!==(t=o.exclusion)&&void 0!==t?t:{};u(Object(g.a)(Object(g.a)({},o),{},{exclusion:Object(g.a)(Object(g.a)({},n),{},{inputs:e})}))},onChangeOfEx:function(e){var t;console.log(e);var n=null!==(t=o.exclusion)&&void 0!==t?t:{};u(Object(g.a)(Object(g.a)({},o),{},{exclusion:Object(g.a)(Object(g.a)({},n),{},{exclusion:e})}))},exclusion:null!==(a=null===o||void 0===o||null===(c=o.exclusion)||void 0===c?void 0:c.exclusion)&&void 0!==a?a:{},dInputs:null!==(i=null===o||void 0===o||null===(s=o.exclusion)||void 0===s?void 0:s.inputs)&&void 0!==i?i:[]})]})}function ne(e){var t=e.onChangeOf,n=void 0===t?function(){}:t,a=e.dInputs,c=void 0===a?[]:a,i=e.onChangeOfEx,s=void 0===i?function(){}:i,l=e.exclusion;return Object(v.jsxs)("div",{className:"oche-inputsr for-inputs",children:[Object(v.jsxs)("div",{className:"oche-inputs-title",children:[Object(v.jsxs)("p",{className:"p-medium",children:["Exclusion (",c.length,")"]}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),c.length||n([].concat(Object(D.a)(c),[w({currentList:c})]))},children:"Add"})]}),Object(v.jsx)("div",{className:"divider"}),Object(v.jsxs)("div",{className:"oche-languages-form",children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Expectation"}),Object(v.jsx)("input",{name:"value",placeholder:"Value",value:l.value,onChange:function(e){e.stopPropagation(),s(Object(g.a)(Object(g.a)({},l),{},{value:e.target.value}))}})]}),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Type"}),Object(v.jsxs)("select",{name:"type",value:l.type,onChange:function(e){e.stopPropagation(),s(Object(g.a)(Object(g.a)({},l),{},{type:e.target.value}))},children:[Object(v.jsx)("option",{value:null,children:"Type"}),Object(v.jsx)("option",{value:"text",children:"Text"}),Object(v.jsx)("option",{value:"number",children:"Number"}),Object(v.jsx)("option",{value:"bool",children:"Boolean"}),Object(v.jsx)("option",{value:"select",children:"Select"}),Object(v.jsx)("option",{value:"multi-select",children:"Multi Select"}),Object(v.jsx)("option",{value:"multi-input",children:"Multi Input"})]})]})]}),Object(v.jsx)("div",{className:"divider"}),c.map((function(e,t){var a;return Object(v.jsx)(U,{title:null!==(a=null===e||void 0===e?void 0:e.key)&&void 0!==a?a:"",data:Object(v.jsxs)("div",{className:"oche-inputs-item",children:[Object(v.jsxs)("p",{children:[t+1,"."]}),Object(v.jsx)(te,{item:e,onChangeF:function(t){n(Object(D.a)(c.map((function(n){return n.id!==e.id?n:Object(g.a)(Object(g.a)({},n),t)}))))}}),Object(v.jsx)("i",{className:"modal-header fa fa-xmark",onClick:function(t){t.stopPropagation(),n(Object(D.a)(c.filter((function(t){return t.id!==e.id}))))}})]})},e.id)}))]})}function ae(e){var t=e.onChangeOf,n=void 0===t?function(){}:t,a=e.dOptions,c=void 0===a?[]:a;return Object(v.jsxs)("div",{className:"options-reg",children:[Object(v.jsxs)("div",{className:"oche-title",children:[Object(v.jsx)("label",{children:"Options"}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),n([].concat(Object(D.a)(c),[w({currentList:c})]))},children:"Add"})]}),c.map((function(e,t){var a;return Object(v.jsx)(U,{title:null!==(a=null===e||void 0===e?void 0:e.value)&&void 0!==a?a:"",data:Object(v.jsxs)("div",{className:"options-inputs-row",children:[Object(v.jsxs)("p",{children:[t+1,"."]}),Object(v.jsx)(ce,{item:e,onChangeWith:function(t){n(Object(D.a)(c.map((function(n){return n.id!==e.id?n:Object(g.a)(Object(g.a)({},n),t)}))))}}),Object(v.jsx)("i",{className:"modal-header fa fa-xmark",onClick:function(t){t.stopPropagation(),n(Object(D.a)(c.filter((function(t){return t.id!==e.id}))))}})]})},t)}))]})}function ce(e){var t=e.item,n=void 0===t?{}:t,a=e.onChangeWith,c=void 0===a?function(){}:a,i=Object(r.d)((function(e){return e.default})),s=i.languages,l=i.genders;return Object(v.jsxs)("form",{className:"opts-single-form",onChange:function(e){e.preventDefault(),e.stopPropagation();var t=e.target,a=t.name,i=t.value;c(Object(g.a)(Object(g.a)({},n),{},Object(x.a)({},a,i)))},children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Option Label"}),Object(D.a)(s).map((function(e,t){return Object(v.jsx)("input",{name:"optionLabel_".concat(e.code),placeholder:"Option label (".concat(e.name,")"),type:"name",value:n["optionLabel_".concat(e.code)]},t)}))]}),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Value"}),Object(v.jsx)("input",{type:"name",name:"value",placeholder:"Value",value:n.value})]}),Object(v.jsxs)("div",{className:"oche-languages-form",children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Min age"}),Object(v.jsx)("input",{name:"minAge",type:"number",placeholder:"Min age",value:n.minAge})]}),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Max age"}),Object(v.jsx)("input",{name:"maxAge",type:"number",placeholder:"Max age",value:n.maxAge})]})]}),Object(v.jsxs)("div",{className:"oche-languages-form",children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Age Type"}),Object(v.jsxs)("select",{name:"ageType",value:n.ageType,children:[Object(v.jsx)("option",{children:"Choose"}),Object(v.jsx)("option",{value:"year",children:"Year"}),Object(v.jsx)("option",{value:"month",children:"Months"}),Object(v.jsx)("option",{value:"days",children:"Days"})]})]}),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Gender"}),Object(v.jsxs)("select",{name:"gender",value:n.gender,children:[Object(v.jsx)("option",{children:"Choose"}),Object(D.a)(l).map((function(e,t){var n;return Object(v.jsx)("option",{value:e.id,children:null!==(n=null===e||void 0===e?void 0:e.fr)&&void 0!==n?n:""})}))]})]})]})]})}function ie(e){var t=e.onChangeOf,n=void 0===t?function(){}:t,a=e.dInputs,c=void 0===a?[]:a;return Object(v.jsxs)("div",{className:"oche-inputsr for-inputs",children:[Object(v.jsxs)("div",{className:"oche-inputs-title",children:[Object(v.jsxs)("p",{className:"p-medium",children:["Additional Inputs (",c.length,")"]}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),n([].concat(Object(D.a)(c),[w({currentList:c})]))},children:"Add"})]}),Object(v.jsx)("div",{className:"divider"}),c.map((function(e,t){var a;return Object(v.jsx)(U,{title:null!==(a=null===e||void 0===e?void 0:e.key)&&void 0!==a?a:"",data:Object(v.jsxs)("div",{className:"oche-inputs-item",children:[Object(v.jsxs)("p",{children:[t+1,"."]}),Object(v.jsx)(te,{item:e,onChangeF:function(t){n(Object(D.a)(c.map((function(n){return n.id!==e.id?n:Object(g.a)(Object(g.a)({},n),t)}))))}}),Object(v.jsx)("i",{className:"modal-header fa fa-xmark",onClick:function(t){t.stopPropagation(),n(Object(D.a)(c.filter((function(t){return t.id!==e.id}))))}})]})},e.id)}))]})}n(151);var se=function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(){var e;Object(N.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={currentReg:null},e}return Object(y.a)(n,[{key:"render",value:function(){var e=this,t=this.state.currentReg,n=this.props,a=n.registers,c=n.dispatch;return Object(v.jsxs)("div",{className:"oche-form",children:[Object(v.jsx)(E,{onTap:function(t){e.setState({currentReg:Object(g.a)({},t)})}}),Object(v.jsx)(ee,{reg:t,onInputsChange:function(e){c(b({registers:Object(D.a)(a).map((function(n){return n.id!==(null===t||void 0===t?void 0:t.id)?n:Object(g.a)(Object(g.a)({},t),{},{inputs:e})}))}))}},null===t||void 0===t?void 0:t.code)]})}}]),n}(a.Component),le=Object(r.b)((function(e){return{registers:e.default.registers}}))(se);function oe(e){var t=e.list,n=void 0===t?[]:t,c=e.title,i=void 0===c?"":c,s=e.onLChange,l=void 0===s?function(){}:s,o=Object(a.useState)([]),d=Object(A.a)(o,2),u=d[0],j=d[1];Object(a.useEffect)((function(){j(n)}),[n]);var b=Object(r.d)((function(e){return e.default})).languages;return Object(v.jsxs)("div",{className:"oche-simple-utils",children:[Object(v.jsxs)("div",{className:"oche-title",children:[Object(v.jsxs)("p",{className:"p-medium",children:[i,"(",u.length,")"]}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),e.stopPropagation();var t=[].concat(Object(D.a)(u),[w({currentList:u})]);j(t),l(t)},children:"Add"})]}),Object(v.jsx)("div",{className:"divider"}),u.map((function(e,t){return Object(v.jsxs)("div",{className:"options-inputs-row",children:[Object(v.jsxs)("p",{children:[t+1,"."]}),Object(v.jsx)("form",{className:"oche-simple-utils-inputs",onChange:function(t){t.stopPropagation();var n=t.target,a=n.name,c=n.value,i=u.map((function(t){return t.id!==e.id?t:Object(g.a)(Object(g.a)({},t),{},Object(x.a)({},a,c))}));j(i),l(i)},children:b.map((function(t,n){return Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:t.name}),Object(v.jsx)("input",{name:t.code,type:"text",placeholder:"In ".concat(t.name),value:e["".concat(t.code)]})]},t.id)}))}),Object(v.jsx)("i",{className:"modal-header fa fa-xmark",onClick:function(t){t.preventDefault(),t.stopPropagation();var n=u.filter((function(t){return t.id!==e.id}));j(n),l(n)}})]},e.id)}))]})}var re=function(){var e=Object(P.a)(Object(S.a)().mark((function e(t){var n,a,c,i,s,l,o,r,d,u,j,b;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.body,a=void 0===n?null:n,c=t.method,i=void 0===c?"POST":c,s=t.baseUrl,l=void 0===s?"":s,o=t.endPoint,r=void 0===o?"":o,d=t.headers,u=void 0===d?{}:d,j=t.needHeaders,b=void 0!==j&&j,e.next=3,fetch("".concat(l,"/").concat(r),{method:i,body:a,headers:Object(g.a)({"Content-Type":"application/json"},u)}).then(function(){var e=Object(P.a)(Object(S.a)().mark((function e(t){var n;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,!t.ok){e.next=7;break}return e.abrupt("return",b?Object(g.a)({headers:t.headers},n):n);case 7:return e.abrupt("return",{error:n});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return{error:e}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();n(152);function de(){var e=Object(r.d)((function(e){return e.default})),t=e.dictionary,n=e.languages,c=e.genders,i=e.maritalStatus,s=e.months,l=Object(r.c)(),o=Object(a.useState)([]),d=Object(A.a)(o,2),u=d[0],j=d[1],O=Object(a.useState)(!0),p=Object(A.a)(O,2),h=p[0],m=p[1];return Object(a.useEffect)((function(){re({endPoint:"pv-d/OpenCarenet-Locales-Keys.json",method:"GET",baseUrl:"https://dpictures.s3.amazonaws.com"}).then((function(e){console.log(e),m(!1),e.error?j([]):j(e.keys)}))}),[u.length]),h?Object(v.jsx)("div",{className:"center",children:"Rindira gato..."}):Object(v.jsxs)("div",{className:"oche-languages",children:[Object(v.jsxs)("div",{className:"oche-languages-dic",children:[Object(v.jsxs)("div",{className:"oche-inputs-title",children:[Object(v.jsx)("p",{className:"p-medium",children:"Dictionary of Words"}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),e.stopPropagation()},children:"Add"})]}),Object(v.jsx)("div",{className:"divider"}),u.map((function(e){return Object(v.jsx)(U,{title:e,data:Object(v.jsx)("div",{className:"input-labeled",children:Object(D.a)(n).map((function(n,a){var c,i=null!==(c=t[e])&&void 0!==c?c:{};return Object(v.jsx)("input",{name:n.code,placeholder:"".concat(e," in (").concat(n.name,")"),type:"text",value:i["".concat(n.code)],onChange:function(a){a.stopPropagation(),l(b({dictionary:Object(g.a)(Object(g.a)({},t),{},Object(x.a)({},e,Object(g.a)(Object(g.a)({},t[e]),{},Object(x.a)({},n.code,a.target.value))))}))}},a)}))})},e)}))]}),Object(v.jsxs)("div",{className:"language-utils",children:[Object(v.jsx)(ue,{keys:u,onNewKey:function(e){j([].concat(Object(D.a)(u),[e]))}}),Object(v.jsx)(U,{title:"Genders",data:Object(v.jsx)(oe,{title:"Genders",list:c,onLChange:function(e){l(b({genders:e}))}})}),Object(v.jsx)(U,{title:"Marital Status",data:Object(v.jsx)(oe,{title:"Marital Status",list:i,onLChange:function(e){l(b({maritalStatus:e}))}})}),Object(v.jsx)(U,{title:"Year Months",data:Object(v.jsx)(oe,{title:"Year Months",list:s,onLChange:function(e){l(b({months:e}))}})})]})]})}function ue(e){var t=e.onNewKey,n=void 0===t?function(){}:t,c=e.keys,i=void 0===c?[]:c,s=Object(a.useState)(null),l=Object(A.a)(s,2),o=l[0],r=l[1],d=Object(a.useState)(!1),u=Object(A.a)(d,2),j=u[0],b=u[1];return Object(v.jsxs)("form",{id:"new-key-form-ref",className:"new-key-form",onSubmit:function(e){e.preventDefault(),b(!0);var t={keys:[].concat(Object(D.a)(i),[o])},a=JSON.stringify(t,null,2),c=new Blob([a],{type:"application/json"});c.name="OpenCarenet-Locales-Keys.json",c.lastModified=new Date,L(new File([c],c.name,{type:c.type})).then((function(e){var t,a;b(!1),n(o),null===(t=document)||void 0===t||null===(a=t.getElementById("new-key-form-ref"))||void 0===a||a.reset()}))},children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Add new key to dictionary"}),Object(v.jsx)("input",{name:"key",placeholder:"key",type:"text",required:!0,onChange:function(e){e.stopPropagation(),r(e.target.value)}})]}),Object(v.jsx)("button",{className:j&&"button-loading",children:j?"Rindira gato...":"Add key"})]})}n(153),n(154),n(155);var je=function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(){return Object(N.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){var e=this.props,t=e.child,n=e.onClose,a=e.label;return Object(v.jsx)("div",{className:"modal-curtain",children:Object(v.jsxs)("div",{className:"oche-mini-modal",children:[Object(v.jsxs)("div",{className:"mini-modal-header",children:[Object(v.jsx)("p",{className:"p-medium",children:null!==a&&void 0!==a?a:""}),Object(v.jsx)("i",{className:"fa fa-xmark",onClick:function(e){e.stopPropagation(),n()}})]}),Object(v.jsx)("div",{className:"divider"}),Object(v.jsx)("div",{className:"modal-child",children:t})]})})}}]),n}(a.Component);function be(){var e=Object(a.useState)(null),t=Object(A.a)(e,2),n=t[0],c=t[1],i=Object(r.d)((function(e){return e.default})).registers,s=Object(r.c)();return Object(v.jsxs)("div",{id:"oche_report",children:[Object(v.jsx)(E,{onTap:function(e){c(e)}}),n&&Object(v.jsx)(Oe,{register:Object(D.a)(i).find((function(e){return e.code===n.code})),onChange:function(e){s(b({registers:Object(D.a)(i).map((function(t){return t.id!==(null===n||void 0===n?void 0:n.id)?t:Object(g.a)(Object(g.a)({},n),{},{reportTables:e})}))}))}})]})}function Oe(e){var t=e.register,n=void 0===t?{}:t,a=e.onChange,c=void 0===a?function(){}:a,i=n.reportTables,s=null!==i&&void 0!==i?i:[];return Object(v.jsxs)("div",{className:"summary-list",children:[Object(v.jsxs)("div",{className:"oche-inputs-title",children:[Object(v.jsxs)("p",{className:"p-medium",children:["Tables for ",null===n||void 0===n?void 0:n.code," (",null===s||void 0===s?void 0:s.length,")"]}),Object(v.jsx)("button",{onClick:function(e){e.stopPropagation(),c([].concat(Object(D.a)(s),[w({currentList:s})]))},children:"Add"})]}),s.map((function(e,t){return Object(v.jsx)(U,{title:"Table ".concat(t+1),data:Object(v.jsxs)("div",{className:"oche-inputs-item",children:[Object(v.jsxs)("p",{children:[e.id,"."]}),Object(v.jsx)(pe,{summary:e,onChange:function(e){c(s.map((function(t){return t.id!==e.id?t:Object(g.a)(Object(g.a)({},t),e)})))}}),Object(v.jsx)("i",{className:"modal-header fa fa-xmark",onClick:function(t){t.stopPropagation(),c(s.filter((function(t){return t.id!==e.id})))}})]},e.id)})}))]})}function pe(e){var t=e.summary,n=void 0===t?{}:t,a=e.onChange,c=void 0===a?function(){}:a,i=Object(r.d)((function(e){return e.default})).languages;return Object(v.jsxs)("div",{className:"single-oche-input single-section",children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Title"}),Object(D.a)(i).map((function(e,t){var a="title_".concat(e.code);return Object(v.jsx)("input",{name:a,placeholder:"Title in (".concat(e.name,")"),type:"name",value:n[a],onChange:function(e){e.stopPropagation(),c(Object(g.a)(Object(g.a)({},n),{},Object(x.a)({},a,e.target.value)))}},t)}))]}),Object(v.jsx)(U,{title:"Columns",data:Object(v.jsx)(he,{columns:n.cols,onChange:function(e){c(Object(g.a)(Object(g.a)({},n),{},{cols:e}))}})}),Object(v.jsx)(U,{title:"Rows",data:Object(v.jsx)(ve,{cols:n.cols,rows:n.rows,onChange:function(e){c(Object(g.a)(Object(g.a)({},n),{},{rows:e}))}})})]})}function he(e){var t=e.columns,n=void 0===t?[]:t,a=e.onChange,c=void 0===a?function(){}:a;return Object(v.jsxs)("div",{className:"options-reg",children:[Object(v.jsxs)("div",{className:"oche-title",children:[Object(v.jsx)("label",{children:"Columns"}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),c([].concat(Object(D.a)(n),[w({currentList:n})]))},children:"Add"})]}),n.map((function(e,t){return Object(v.jsxs)("div",{className:"options-inputs-row",children:[Object(v.jsxs)("p",{children:[t+1,"."]}),Object(v.jsx)(me,{item:e,onChangeWith:function(t){c(Object(D.a)(n.map((function(n){return n.id!==e.id?n:Object(g.a)(Object(g.a)({},n),t)}))))}}),Object(v.jsx)("i",{className:"modal-header fa fa-xmark",onClick:function(t){t.stopPropagation(),c(Object(D.a)(n.filter((function(t){return t.id!==e.id}))))}})]},t)}))]})}function me(e){var t=e.item,n=void 0===t?{}:t,a=e.onChangeWith,c=void 0===a?function(){}:a,i=Object(r.d)((function(e){return e.default})).languages;return Object(v.jsx)("form",{className:"opts-single-form",onChange:function(e){e.preventDefault(),e.stopPropagation();var t=e.target,a=t.name,i=t.value;c(Object(g.a)(Object(g.a)({},n),{},Object(x.a)({},a,i)))},children:Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Title"}),Object(D.a)(i).map((function(e,t){return Object(v.jsx)("input",{name:"title_".concat(e.code),placeholder:"Title in ".concat(e.name),type:"name",value:n["title_".concat(e.code)]},t)}))]})})}function ve(e){var t=e.rows,n=void 0===t?[]:t,c=e.cols,i=void 0===c?[]:c,s=e.onChange,l=void 0===s?function(){}:s,o=Object(a.useState)(!1),r=Object(A.a)(o,2),d=r[0],u=r[1];return Object(v.jsxs)("div",{className:"options-reg",children:[Object(v.jsxs)("div",{className:"oche-title",children:[Object(v.jsx)("label",{children:"Rows"}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),u(!0)},children:"Open"})]}),d&&Object(v.jsx)(je,{label:"Table Rows Manager",child:Object(v.jsx)(fe,{rows:n,cols:i,onChange:function(e){l(e)}}),onClose:function(){u(!1)}})]})}function fe(e){var t=e.cols,n=void 0===t?[]:t,c=e.rows,i=void 0===c?[]:c,s=e.onChange,l=void 0===s?function(){}:s,o=Object(r.d)((function(e){return e.default})).languages,d=Object(a.useState)(null),u=Object(A.a)(d,2),j=u[0],b=u[1];return Object(v.jsxs)("div",{className:"r-space",children:[Object(v.jsxs)("div",{className:"r-space-actions",children:[o.length?Object(v.jsxs)("select",{onChange:function(e){e.stopPropagation(),b(e.target.value)},children:[Object(v.jsx)("option",{value:"",children:"Select language"}),o.map((function(e){return Object(v.jsx)("option",{value:e.code,children:e.name},e.code)}))]}):Object(v.jsx)(v.Fragment,{}),Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),l([].concat(Object(D.a)(i),[Object(g.a)(Object(g.a)({},w({currentList:i})),{},{cells:n.map((function(e,t){return{id:t+1}}))})]))},children:"Add row"})]}),null!==j&&void 0!==j&&j.length&&null!==n&&void 0!==n&&n.length?Object(v.jsxs)("table",{className:"r-space-table",children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{className:"min-width-th-n",children:"N\xb0"}),n.map((function(e,t){return Object(v.jsx)("th",{children:e["title_".concat(j)]})})),Object(v.jsx)("th",{className:"min-width-th",children:"Remove"})]}),i.map((function(e,t){var a=Object(D.a)(e.cells);return a.length===n.length?Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"min-width-th-n",children:t+1}),a.map((function(t,n){return Object(v.jsx)(xe,{item:t,onChange:function(t){l(i.map((function(n){return n.id===e.id?Object(g.a)(Object(g.a)({},n),{},{cells:a.map((function(e){return e.id===t.id?Object(g.a)(Object(g.a)({},e),t):e}))}):n})))}},n)})),Object(v.jsx)("td",{className:"min-width-th",children:Object(v.jsx)("i",{className:"modal-header fa fa-xmark",onClick:function(t){t.stopPropagation(),l(i.filter((function(t){return t.id!==e.id})))}})})]}):Object(v.jsx)(v.Fragment,{})}))]}):Object(v.jsx)(v.Fragment,{})]})}function xe(e){var t=e.item,n=void 0===t?{}:t,a=e.onChange,c=void 0===a?function(){}:a,i=n.values,s=i?Object(D.a)(i):[];return Object(v.jsxs)("td",{className:"cell-td",children:[Object(v.jsxs)("div",{className:"oche-inputs-title",children:[Object(v.jsx)("p",{className:"p-medium",children:"Cell values"}),Object(v.jsx)("button",{onClick:function(e){e.stopPropagation(),c(Object(g.a)(Object(g.a)({},n),{},{values:[].concat(Object(D.a)(s),[w({currentList:s})])}))},children:"Add"})]}),s.map((function(e,t){var a=function(t){t.stopPropagation();var a=t.target,i=a.name,l=a.value;c(Object(g.a)(Object(g.a)({},n),{},{values:s.map((function(t){return t.id===e.id?Object(g.a)(Object(g.a)({},e),{},Object(x.a)({},i,l)):t}))}))};return Object(v.jsx)(U,{title:"Cell ".concat(t+1),data:Object(v.jsxs)("div",{className:"r-space-cell-values-data",children:[Object(v.jsxs)("form",{className:"r-space-cell-values-data-form",children:[Object(v.jsxs)("div",{className:"oche-languages-form",children:[Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Key (Optional)"}),Object(v.jsx)("input",{name:"key",type:"text",placeholder:"DHIS2 Key",value:e.key,onChange:a})]}),Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Type"}),Object(v.jsxs)("select",{name:"type",value:e.type,onChange:a,children:[Object(v.jsx)("option",{value:null,children:"Choose"}),Object(v.jsx)("option",{value:"static",children:"Static"}),Object(v.jsx)("option",{value:"count",children:"Count"}),Object(v.jsx)("option",{value:"sum",children:"Sum"})]})]})]}),"static"===(null===e||void 0===e?void 0:e.type)?Object(v.jsx)(ge,{item:e,onChange:function(t){console.log("stat d",t),c(Object(g.a)(Object(g.a)({},n),{},{values:s.map((function(n){return n.id===e.id?Object(g.a)(Object(g.a)({},e),{},{data:t}):n}))}))}}):Object(v.jsx)(v.Fragment,{})]}),Object(v.jsx)("i",{className:"modal-header fa fa-xmark",onClick:function(t){t.stopPropagation(),c(Object(g.a)(Object(g.a)({},n),{},{values:s.filter((function(t){return t.id!==e.id}))}))}})]},e.id)},t)}))]})}function ge(e){var t=e.item,n=void 0===t?{}:t,a=e.onChange,c=void 0===a?function(){}:a,i=Object(r.d)((function(e){return e.default})).languages,s=n.data,l=s?Object(g.a)({},s):{};return Object(v.jsxs)("div",{className:"input-labeled",children:[Object(v.jsx)("label",{children:"Value"}),Object(D.a)(i).map((function(e,t){var n="value_".concat(e.code);return Object(v.jsx)("input",{name:n,placeholder:"Value (".concat(e.name,")"),type:"name",value:l["value_".concat(e.code)],onChange:function(e){e.stopPropagation(),c(Object(g.a)(Object(g.a)({},l),{},Object(x.a)({},n,e.target.value)))}},t)}))]})}var Ne=function(e){Object(C.a)(n,e);var t=Object(k.a)(n);function n(){var e;Object(N.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={country:!1,languages:!1,registers:!1,forms:!1,canevas:!1,uploading:!1},e}return Object(y.a)(n,[{key:"openCloseModal",value:function(e,t){this.setState(Object(g.a)(Object(g.a)({},this.state),{},Object(x.a)({},e,t)))}},{key:"_saveFile",value:function(e){var t=this,n=e.upload,a=void 0!==n&&n,c=this.props.storeObj;console.log(c);var i="OpenCarenet-".concat(c.name,"-v").concat(c.version),s=JSON.stringify(c,null,2),l=new Blob([s],{type:"application/json"});if(a)this.setState({uploading:!0}),l.name=i+".json",l.lastModified=new Date,L(new File([l],l.name,{type:l.type})).then((function(e){t.setState({uploading:!1})}));else{var o=URL.createObjectURL(l),r=document.createElement("a");r.href=o,r.download=i+".json",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(o)}}},{key:"render",value:function(){var e=this,t=this.state,n=t.country,a=t.languages,c=t.registers,i=t.forms,s=t.uploading,o=t.canevas;return Object(v.jsxs)("div",{className:"oche-home",children:[n&&Object(v.jsx)(M,{child:Object(v.jsx)(X,{}),onClose:function(){e.openCloseModal("country",!1)}}),a&&Object(v.jsx)(M,{child:Object(v.jsx)(de,{}),onClose:function(){e.openCloseModal("languages",!1)}}),c&&Object(v.jsx)(M,{child:Object(v.jsx)(q,{}),onClose:function(){e.openCloseModal("registers",!1)}}),o&&Object(v.jsx)(M,{child:Object(v.jsx)(be,{}),onClose:function(){e.openCloseModal("canevas",!1)}}),i&&Object(v.jsx)(M,{child:Object(v.jsx)(le,{}),onClose:function(){e.openCloseModal("forms",!1)}}),Object(v.jsxs)("div",{className:"oche-home-save-actions",children:[Object(v.jsx)(l.b,{to:"/",children:Object(v.jsx)("button",{children:"Home"})}),Object(v.jsx)("button",{onClick:function(t){t.stopPropagation(),e._saveFile({upload:!1})},children:"Save"}),Object(v.jsx)("button",{onClick:function(t){t.stopPropagation(),e._saveFile({upload:!0})},children:"Upload"}),s?Object(v.jsx)("i",{className:"fa fa-spinner fa-spin"}):Object(v.jsx)(v.Fragment,{})]}),Object(v.jsxs)("div",{className:"oche-home-actions",children:[Object(v.jsxs)("div",{className:"oche-home-single-home",onClick:function(){e.openCloseModal("country",!0)},children:[Object(v.jsx)("i",{className:"c-red fa fa-earth-africa"}),Object(v.jsx)("div",{className:"divider"}),Object(v.jsx)("p",{children:"Country"})]}),Object(v.jsxs)("div",{className:"oche-home-single-home",onClick:function(){e.openCloseModal("languages",!0)},children:[Object(v.jsx)("i",{className:"c-red fa fa-language"}),Object(v.jsx)("div",{className:"divider"}),Object(v.jsx)("p",{children:"Languages"})]})]}),Object(v.jsxs)("div",{className:"oche-home-actions",children:[Object(v.jsxs)("div",{className:"oche-home-single-home",onClick:function(){e.openCloseModal("registers",!0)},children:[Object(v.jsx)("i",{className:"c-red fa fa-book"}),Object(v.jsx)("div",{className:"divider"}),Object(v.jsx)("p",{children:"Registers"})]}),Object(v.jsxs)("div",{className:"oche-home-single-home",onClick:function(){e.openCloseModal("forms",!0)},children:[Object(v.jsx)("i",{className:"c-red fa fa-clipboard-question"}),Object(v.jsx)("div",{className:"divider"}),Object(v.jsx)("p",{children:"Forms"})]})]})]})}}]),n}(a.Component),ye=Object(r.b)((function(e){return{name:e.default.name,version:e.default.version,languages:e.default.languages,registers:e.default.registers,provinces:e.default.provinces,dictionary:e.default.dictionary,copyright:e.default.copyright,storeObj:e.default}}))(Ne);s.a.createRoot(document.getElementById("root")).render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(l.a,{children:Object(v.jsx)(r.a,{store:h,children:Object(v.jsxs)(o.c,{children:[Object(v.jsx)(o.a,{path:"/",element:Object(v.jsx)(f,{})}),Object(v.jsx)(o.a,{path:"/session",element:Object(v.jsx)(ye,{})}),Object(v.jsx)(o.a,{path:"*",element:Object(v.jsx)("div",{children:"Not found"})})]})})})})),console.log=function(){},console.error=function(){},console.debug=function(){}},67:function(e,t,n){},71:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){}},[[156,1,2]]]);
//# sourceMappingURL=main.b60ed417.chunk.js.map